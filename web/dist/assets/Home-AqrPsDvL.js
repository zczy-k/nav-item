const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardGrid-Ds6OiPIU.js","assets/index-DF-Jk6N8.js","assets/CardGrid-muF-mrHB.css"])))=>i.map(i=>d[i]);
var ft=Object.defineProperty,gt=Object.defineProperties;var bt=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var kt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var Ae=(k,m,c)=>m in k?ft(k,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):k[m]=c,me=(k,m)=>{for(var c in m||(m={}))kt.call(m,c)&&Ae(k,c,m[c]);if(De)for(var c of De(m))yt.call(m,c)&&Ae(k,c,m[c]);return k},he=(k,m)=>gt(k,bt(m));var f=(k,m,c)=>new Promise((C,g)=>{var Q=$=>{try{p(c.next($))}catch(J){g(J)}},y=$=>{try{p(c.throw($))}catch(J){g(J)}},p=$=>$.done?C($.value):Promise.resolve($.value).then(Q,y);p((c=c.apply(k,m)).next())});import{_ as Fe,r as u,c as s,F,a as T,o as n,b as t,d,t as v,n as le,e as Ne,f as wt,g as Ct,h as _t,i as z,w as h,j as D,k as H,T as K,v as I,l as ye,u as Mt,m as xt,p as we,q as Pe,s as St,x as fe}from"./index-DF-Jk6N8.js";import{g as It,a as Et,b as $t,c as te,l as Re,d as Ut,e as Lt,u as ze,f as Bt,h as Vt,i as Dt}from"./api-BbZSgGBc.js";const At={class:"menu-bar"},Nt=["onMouseenter","onMouseleave"],Pt=["onClick"],Rt=["onClick"],zt={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(k){const m=u(null);function c(g){m.value=g}function C(g){setTimeout(()=>{m.value===g&&(m.value=null)},100)}return(g,Q)=>(n(),s("nav",At,[(n(!0),s(F,null,T(k.menus,y=>(n(),s("div",{key:y.id,class:"menu-item",onMouseenter:p=>c(y.id),onMouseleave:p=>C(y.id)},[t("button",{onClick:p=>g.$emit("select",y),class:le({active:y.id===k.activeId})},v(y.name),11,Pt),y.subMenus&&y.subMenus.length>0?(n(),s("div",{key:0,class:le(["sub-menu",{show:m.value===y.id}])},[(n(!0),s(F,null,T(y.subMenus,p=>(n(),s("button",{key:p.id,onClick:$=>g.$emit("select",p,y),class:le([{active:p.id===k.activeSubMenuId},"sub-menu-item"])},v(p.name),11,Rt))),128))],2)):d("",!0)],40,Nt))),128))]))}},Ft=Fe(zt,[["__scopeId","data-v-16a94230"]]),Tt={class:"menu-bar-fixed"},qt={class:"search-section"},Ot={class:"search-box-wrapper"},Jt={class:"search-container"},jt={class:"engine-icon"},Gt={class:"engine-menu-items"},Ht=["onClick"],Kt={class:"engine-icon"},Qt={class:"engine-label"},Wt=["onClick"],Xt=["placeholder"],Yt={key:0,class:"ad-space-fixed left-ad-fixed"},Zt=["href"],el=["src"],tl={key:1,class:"ad-space-fixed right-ad-fixed"},ll=["href"],al=["src"],ol={key:2,class:"move-target-panel"},sl={class:"move-target-header"},nl={class:"move-target-list"},il=["onClick"],rl={key:0,class:"target-submenu-list"},ul=["onClick"],dl=["disabled"],cl={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},vl={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},pl={key:"plus",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},ml={key:"close",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},hl={class:"modal-header"},fl={class:"modal-body"},gl={key:0,class:"batch-step"},bl={class:"remember-password-wrapper"},kl={key:0,class:"batch-error"},yl={class:"batch-actions"},wl=["disabled"],Cl={key:1,class:"batch-step"},_l={key:0,class:"batch-error"},Ml={class:"batch-actions"},xl=["disabled"],Sl={key:2,class:"batch-step"},Il={class:"batch-preview-list"},El=["onUpdate:modelValue","id"],$l={class:"batch-card-preview"},Ul=["src","alt"],Ll={class:"batch-card-info"},Bl={class:"batch-edit-field"},Vl=["onUpdate:modelValue"],Dl={class:"batch-edit-field"},Al=["onUpdate:modelValue"],Nl={class:"batch-edit-field"},Pl=["onUpdate:modelValue"],Rl={class:"batch-card-url"},zl={key:0,class:"batch-card-warning"},Fl={key:0,class:"batch-error"},Tl={class:"batch-actions"},ql=["disabled"],Ol={class:"footer"},Jl={class:"footer-content"},jl={class:"modal-header"},Gl={class:"modal-body"},Hl={class:"remember-password-wrapper"},Kl={key:0,class:"batch-error"},Ql={class:"batch-actions",style:{"margin-top":"20px"}},Wl=["disabled"],Xl={class:"modal-header"},Yl={class:"modal-body"},Zl={class:"friend-links-grid"},ea=["href"],ta={class:"friend-link-logo"},la=["src","alt"],aa={key:1,class:"friend-link-placeholder"},oa={class:"friend-link-info"},sa={class:"modal-body"},na={class:"edit-card-form"},ia={class:"form-group"},ra={class:"form-group"},ua={class:"form-group"},da={class:"form-group"},ca={key:0,class:"batch-error"},va={class:"batch-actions",style:{"margin-top":"20px"}},pa=["disabled"],ma={class:"modal-header"},ha={class:"modal-body"},fa={class:"form-group"},ga={class:"form-group"},ba={class:"form-group"},ka={key:0,class:"batch-error"},ya={class:"batch-actions",style:{"margin-top":"20px"}},wa={key:0,class:"toast-notification"},Ca={__name:"Home",setup(k){const m=xt(()=>St(()=>import("./CardGrid-Ds6OiPIU.js"),__vite__mapDeps([0,1,2]))),c=u([]),C=u(null),g=u(null),Q=u([]),y=u([]),p=u(""),$=u([]),J=u([]),re=u(!1),Ce=u([]),ge=u(!1),U=u(1),A=u(""),ae=u(""),E=u(!1),b=u(""),oe=u([]),W=u(!1),L=u(!1),j=u(""),X=u(!1),N=u(!1),M=u(""),ue=u(!1),B=u([]),G=u(!1),se=u(null),ne=u(null),_e=u(""),be=u(!1),ke=u(!1),de=u(null),w=u({title:"",url:"",logo_url:"",desc:""}),P=u(!1);function Te(){P.value=!P.value}function Me(){P.value&&(P.value=!1)}const ie=u(!1),xe=Ne(()=>oe.value.filter(l=>l.selected).length),qe=[{name:"google",label:"Google",icon:"ğŸŒ",placeholder:"Google æœç´¢...",url:l=>`https://www.google.com/search?q=${encodeURIComponent(l)}`},{name:"baidu",label:"ç™¾åº¦",icon:"ğŸ”",placeholder:"ç™¾åº¦æœç´¢...",url:l=>`https://www.baidu.com/s?wd=${encodeURIComponent(l)}`},{name:"bing",label:"Bing",icon:"ğŸ…±ï¸",placeholder:"Bing æœç´¢...",url:l=>`https://www.bing.com/search?q=${encodeURIComponent(l)}`},{name:"github",label:"GitHub",icon:"ğŸ’»",placeholder:"GitHub æœç´¢...",url:l=>`https://github.com/search?q=${encodeURIComponent(l)}&type=repositories`},{name:"site",label:"ç«™å†…",icon:"ğŸ ",placeholder:"ç«™å†…æœç´¢...",url:l=>`/search?query=${encodeURIComponent(l)}`}],Oe=()=>{try{const l=localStorage.getItem("custom_search_engines");if(l)return JSON.parse(l)}catch(l){console.error("Failed to load custom engines:",l)}return[]},Se=l=>{try{localStorage.setItem("custom_search_engines",JSON.stringify(l))}catch(e){console.error("Failed to save custom engines:",e)}},R=u([...qe,...Oe()]),Y=u(!1),Z=u(!1),ee=u(""),_=u({icon:"",label:"",searchUrl:""}),q=u((()=>{try{const l=localStorage.getItem("default_search_engine");if(l){const e=R.value.find(o=>o.name===l);if(e)return e}}catch(l){console.error("Failed to load default search engine:",l)}return R.value[0]})());function Je(l){q.value=l;try{localStorage.setItem("default_search_engine",l.name)}catch(e){console.error("Failed to save default search engine:",e)}}function je(){Z.value=!Z.value}function Ge(l){Je(l),Z.value=!1}function He(){p.value=""}function Ke(){Y.value=!0,ee.value="",_.value={icon:"",label:"",searchUrl:""}}function Qe(){if(!_.value.label.trim()){ee.value="è¯·è¾“å…¥æœç´¢å¼•æ“åç§°";return}if(!_.value.searchUrl.trim()){ee.value="è¯·è¾“å…¥æœç´¢åœ°å€";return}if(!_.value.searchUrl.includes("{query}")){ee.value="æœç´¢åœ°å€å¿…é¡»åŒ…å« {query} å ä½ç¬¦";return}const l={name:"custom_"+Date.now(),label:_.value.label,icon:_.value.icon||"ğŸ”",placeholder:`${_.value.label} æœç´¢...`,url:o=>_.value.searchUrl.replace("{query}",encodeURIComponent(o)),custom:!0,searchUrl:_.value.searchUrl};R.value.push(l);const e=R.value.filter(o=>o.custom);Se(e),Y.value=!1,alert("æœç´¢å¼•æ“æ·»åŠ æˆåŠŸï¼")}function We(l){if(!confirm(`ç¡®å®šè¦åˆ é™¤ã€Œ${l.label}ã€æœç´¢å¼•æ“å—ï¼Ÿ`))return;const e=R.value.findIndex(i=>i.name===l.name);e>-1&&R.value.splice(e,1),q.value.name===l.name&&(q.value=R.value[0]);const o=R.value.filter(i=>i.custom);Se(o)}const Xe=Ne(()=>{if(!p.value)return Q.value;const l=p.value.toLowerCase();return y.value.filter(e=>e.title.toLowerCase().includes(l)||e.url.toLowerCase().includes(l)||e.desc&&e.desc.toLowerCase().includes(l))});wt(()=>{const l=localStorage.getItem("nav_background");l&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".home-container");e&&(e.style.backgroundImage=`url(${l})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment="fixed")})}),Ct(()=>f(null,null,function*(){const l=yield It();c.value=l.data,c.value.length&&(C.value=c.value[0],O(),et());const e=yield Et();$.value=e.data.filter(r=>r.position==="left"),J.value=e.data.filter(r=>r.position==="right");const o=yield $t();Ce.value=o.data;const i=localStorage.getItem("nav_background");if(i){const r=document.querySelector(".home-container");r&&!r.style.backgroundImage.includes(i)&&(r.style.backgroundImage=`url(${i})`,r.style.backgroundSize="cover",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",r.style.backgroundAttachment="fixed")}at(),document.addEventListener("click",Me),document.addEventListener("click",Ie)})),_t(()=>{document.removeEventListener("click",Me),document.removeEventListener("click",Ie)});function Ie(){Z.value&&(Z.value=!1)}function Ye(l,e=null){return f(this,null,function*(){e?(C.value=e,g.value=l):(C.value=l,g.value=null),O()})}const Ze=u({});function O(){return f(this,null,function*(){var e;if(!C.value)return;const l=yield te(C.value.id,(e=g.value)==null?void 0:e.id);Q.value=l.data})}function et(){return f(this,null,function*(){const l=[];for(const e of c.value)try{const o=yield te(e.id,null);if(l.push(...o.data),e.subMenus&&e.subMenus.length)for(const i of e.subMenus){const r=yield te(e.id,i.id);l.push(...r.data)}}catch(o){console.error(`åŠ è½½èœå• ${e.name} çš„å¡ç‰‡å¤±è´¥:`,o)}y.value=l})}function ce(){return f(this,null,function*(){const l={};for(const e of c.value){const o=yield te(e.id,null),i=`${e.id}_null`;if(l[i]=o.data,e.subMenus&&e.subMenus.length)for(const r of e.subMenus){const x=yield te(e.id,r.id),a=`${e.id}_${r.id}`;l[a]=x.data}}Ze.value=l})}function Ee(){return f(this,null,function*(){if(p.value.trim())if(q.value.name==="site"){let l=!1;for(const e of c.value){const o=yield te(e.id),i=o.data.find(r=>r.title.toLowerCase().includes(p.value.toLowerCase())||r.url.toLowerCase().includes(p.value.toLowerCase()));if(i){C.value=e,Q.value=o.data,setTimeout(()=>{const r=document.querySelector(`[data-card-id='${i.id}']`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})},100),l=!0;break}}l||alert("æœªæ‰¾åˆ°ç›¸å…³å†…å®¹")}else{const l=q.value.url(p.value);window.open(l,"_blank")}})}function tt(l){l.target.style.display="none",l.target.nextElementSibling.style.display="flex"}function lt(){return f(this,null,function*(){ge.value=!0,b.value="";const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:i}=JSON.parse(l);if(Date.now()<o&&i){localStorage.setItem("token",i),A.value=e,W.value=!0,U.value=2;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}U.value=1})}function ve(){ge.value=!1,U.value=1,A.value="",ae.value="",b.value="",oe.value=[],E.value=!1}function at(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:i}=JSON.parse(l);Date.now()<o?(A.value=e,W.value=!0,i&&localStorage.setItem("token",i)):localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}}function $e(){return f(this,null,function*(){if(!A.value){b.value="è¯·è¾“å…¥å¯†ç ";return}E.value=!0,b.value="";try{const l=yield Re("admin",A.value);if(l.data&&l.data.token)localStorage.setItem("token",l.data.token);else throw new Error("ç™»å½•æˆåŠŸï¼Œä½†æœªæ”¶åˆ° token");if(W.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:A.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");U.value=2}catch(l){b.value="å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",console.error("å¯†ç éªŒè¯å¤±è´¥:",l)}finally{E.value=!1}})}function ot(){localStorage.removeItem("nav_password_token"),localStorage.removeItem("token"),A.value="",W.value=!1,U.value=1}function st(){return f(this,null,function*(){var e,o;const l=ae.value.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(l.length===0){b.value="è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ªç½‘å€";return}E.value=!0,b.value="";try{const i=yield Ut(l);oe.value=i.data.data.map(r=>he(me({},r),{selected:!0})),U.value=3}catch(i){b.value=((o=(e=i.response)==null?void 0:e.data)==null?void 0:o.error)||"è§£æå¤±è´¥ï¼Œè¯·é‡è¯•"}finally{E.value=!1}})}function nt(){return f(this,null,function*(){var e,o,i;const l=oe.value.filter(r=>r.selected);if(l.length===0){b.value="è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç½‘ç«™";return}E.value=!0,b.value="";try{const r=l.map(x=>({title:x.title,url:x.url,logo:x.logo,description:x.description}));yield Lt(C.value.id,((e=g.value)==null?void 0:e.id)||null,r),alert(`æˆåŠŸæ·»åŠ  ${l.length} ä¸ªç½‘ç«™ï¼`),ve(),yield O()}catch(r){b.value=((i=(o=r.response)==null?void 0:o.data)==null?void 0:i.error)||"æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•"}finally{E.value=!1}})}function it(){return f(this,null,function*(){if(!ie.value){ie.value=!0;try{const e=(yield Bt()).data.url;let o=document.getElementById("dynamic-bg-style");o||(o=document.createElement("style"),o.id="dynamic-bg-style",document.head.appendChild(o)),o.textContent=`.home-container { background-image: url(${e}) !important; }`,localStorage.setItem("nav_background",e)}catch(l){console.error("è·å–å£çº¸å¤±è´¥:",l),alert("è·å–å£çº¸å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{ie.value=!1}}})}function rt(){return f(this,null,function*(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:i}=JSON.parse(l);if(Date.now()<o&&i){localStorage.setItem("token",i),L.value=!0;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}if(X.value=!0,j.value="",M.value="",l)try{const{password:e,expiry:o}=JSON.parse(l);Date.now()<o&&(j.value=e,ue.value=!0)}catch(e){}})}function Ue(){return f(this,null,function*(){if(!j.value){M.value="è¯·è¾“å…¥å¯†ç ";return}N.value=!0,M.value="";try{const l=yield Re("admin",j.value);if(localStorage.setItem("token",l.data.token),ue.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:j.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");L.value=!0,X.value=!1,N.value=!1}catch(l){M.value="å¯†ç é”™è¯¯",N.value=!1}})}function Le(){L.value=!1,B.value=[],G.value=!1,se.value=null,ne.value=null}function ut(l){L.value&&l.target.classList.contains("home-container")&&Le()}function dt(){G.value=!1,se.value=null,ne.value=null}function ct(l){var o,i;const e=B.value.findIndex(r=>r.id===l.id);e>-1?(B.value.splice(e,1),B.value.length===0&&(G.value=!1)):(B.value.push(l),G.value||(G.value=!0,se.value=((o=C.value)==null?void 0:o.id)||null,ne.value=((i=g.value)==null?void 0:i.id)||null))}function Be(l,e=2e3){_e.value=l,be.value=!0,setTimeout(()=>{be.value=!1},e)}function Ve(l,e){return f(this,null,function*(){var o,i;if(B.value.length!==0)try{const r=B.value.map(a=>({id:a.id,menu_id:l,sub_menu_id:e}));for(const a of r){const S=B.value.find(V=>V.id===a.id);yield ze(a.id,he(me({},S),{menu_id:a.menu_id,sub_menu_id:a.sub_menu_id}))}const x=B.value.length;Be(`å·²ç§»åŠ¨ ${x} ä¸ªå¡ç‰‡ï¼`),B.value=[],G.value=!1,yield O()}catch(r){Be(`ç§»åŠ¨å¤±è´¥ï¼š${((i=(o=r.response)==null?void 0:o.data)==null?void 0:i.error)||r.message}`)}})}function vt(l,e,o){return f(this,null,function*(){var r,x;const i=l.map((a,S)=>({id:a,order:S,menu_id:e,sub_menu_id:o}));try{yield Dt(i),L.value?yield ce():yield O()}catch(a){alert("ä¿å­˜å¤±è´¥ï¼š"+(((x=(r=a.response)==null?void 0:r.data)==null?void 0:x.error)||a.message)),L.value?yield ce():yield O()}})}function pt(l){return f(this,null,function*(){var e,o;if(confirm(`ç¡®å®šè¦åˆ é™¤ã€Œ${l.title}ã€å—ï¼Ÿ`))try{yield Vt(l.id),alert("åˆ é™¤æˆåŠŸ"),L.value?yield ce():yield O()}catch(i){alert("åˆ é™¤å¤±è´¥ï¼š"+(((o=(e=i.response)==null?void 0:e.data)==null?void 0:o.error)||i.message))}})}function mt(l){de.value=l,w.value={title:l.title||"",url:l.url||"",logo_url:l.logo_url||"",desc:l.desc||""},M.value="",ke.value=!0}function pe(){ke.value=!1,de.value=null,w.value={title:"",url:"",logo_url:"",desc:""},M.value=""}function ht(){return f(this,null,function*(){var l,e;if(!w.value.title.trim()){M.value="è¯·è¾“å…¥æ ‡é¢˜";return}if(!w.value.url.trim()){M.value="è¯·è¾“å…¥ç½‘å€";return}N.value=!0,M.value="";try{yield ze(de.value.id,he(me({},de.value),{title:w.value.title,url:w.value.url,logo_url:w.value.logo_url,desc:w.value.desc})),alert("ä¿®æ”¹æˆåŠŸ"),pe(),L.value?yield ce():yield O()}catch(o){M.value="ä¿®æ”¹å¤±è´¥ï¼š"+(((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.error)||o.message)}finally{N.value=!1}})}return(l,e)=>{var o,i,r,x;return n(),s("div",{class:"home-container",onClick:ut},[t("div",Tt,[z(Ft,{menus:c.value,activeId:(o=C.value)==null?void 0:o.id,activeSubMenuId:(i=g.value)==null?void 0:i.id,onSelect:Ye},null,8,["menus","activeId","activeSubMenuId"])]),t("div",qt,[t("div",Ot,[t("div",Jt,[t("div",{class:"search-engine-dropdown",onClick:e[1]||(e[1]=D(()=>{},["stop"]))},[t("button",{onClick:je,class:"engine-selector",title:"é€‰æ‹©æœç´¢å¼•æ“"},[t("span",jt,v(q.value.icon||"ğŸ”"),1),e[33]||(e[33]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"6 9 12 15 18 9"})],-1))]),z(K,{name:"dropdown"},{default:H(()=>[Z.value?(n(),s("div",{key:0,class:"engine-dropdown-menu",onClick:e[0]||(e[0]=D(()=>{},["stop"]))},[t("div",{class:"engine-menu-header"},[e[34]||(e[34]=t("span",null,"æœç´¢å¼•æ“",-1)),t("button",{onClick:Ke,class:"add-engine-icon-btn",title:"æ·»åŠ è‡ªå®šä¹‰"}," + ")]),t("div",Gt,[(n(!0),s(F,null,T(R.value,a=>(n(),s("button",{key:a.name,class:le(["engine-menu-item",{active:q.value.name===a.name}]),onClick:S=>Ge(a)},[t("span",Kt,v(a.icon||"ğŸ”"),1),t("span",Qt,v(a.label),1),a.custom?(n(),s("button",{key:0,onClick:D(S=>We(a),["stop"]),class:"delete-engine-btn-small",title:"åˆ é™¤"}," Ã— ",8,Wt)):d("",!0)],10,Ht))),128))])])):d("",!0)]),_:1})]),h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),type:"text",placeholder:q.value.placeholder,class:"search-input",onKeyup:ye(Ee,["enter"])},null,40,Xt),[[I,p.value]]),p.value?(n(),s("button",{key:0,class:"clear-btn",onClick:He,"aria-label":"æ¸…ç©º",title:"clear"},e[35]||(e[35]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):d("",!0),t("button",{onClick:Ee,class:"search-btn",title:"search"},e[36]||(e[36]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),$.value.length?(n(),s("div",Yt,[(n(!0),s(F,null,T($.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank"},[t("img",{src:a.img,alt:"å¹¿å‘Š",loading:"lazy"},null,8,el)],8,Zt))),128))])):d("",!0),J.value.length?(n(),s("div",tl,[(n(!0),s(F,null,T(J.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank"},[t("img",{src:a.img,alt:"å¹¿å‘Š",loading:"lazy"},null,8,al)],8,ll))),128))])):d("",!0),L.value&&G.value?(n(),s("div",ol,[t("div",sl,[t("h4",null,"ç§»åŠ¨åˆ° ("+v(B.value.length)+")",1),t("button",{onClick:dt,class:"cancel-move-btn"},"Ã—")]),t("div",nl,[(n(!0),s(F,null,T(c.value,a=>(n(),s("div",{key:a.id,class:"target-menu-group"},[t("button",{onClick:S=>Ve(a.id,null),class:le(["target-menu-btn",{active:se.value===a.id&&ne.value===null}])},v(a.name),11,il),a.subMenus&&a.subMenus.length?(n(),s("div",rl,[(n(!0),s(F,null,T(a.subMenus,S=>(n(),s("button",{key:S.id,onClick:V=>Ve(a.id,S.id),class:le(["target-submenu-btn",{active:se.value===a.id&&ne.value===S.id}])}," â¤· "+v(S.name),11,ul))),128))])):d("",!0)]))),128))])])):d("",!0),z(Mt(m),{cards:Xe.value,editMode:L.value,selectedCards:B.value,categoryId:(r=C.value)==null?void 0:r.id,subCategoryId:(x=g.value)==null?void 0:x.id,onCardsReordered:vt,onEditCard:mt,onDeleteCard:pt,onToggleCardSelection:ct,onClick:e[3]||(e[3]=D(()=>{},["stop"]))},null,8,["cards","editMode","selectedCards","categoryId","subCategoryId"]),t("div",{class:"fab-container",onClick:e[4]||(e[4]=D(()=>{},["stop"]))},[z(K,{name:"fab-item"},{default:H(()=>[h(t("button",{onClick:it,class:"change-bg-btn",title:"åˆ‡æ¢èƒŒæ™¯",disabled:ie.value},[ie.value?(n(),s("svg",vl,e[38]||(e[38]=[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"},null,-1)]))):(n(),s("svg",cl,e[37]||(e[37]=[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),t("path",{d:"M21 15l-5-5L5 21"},null,-1)])))],8,dl),[[fe,P.value]])]),_:1}),z(K,{name:"fab-item"},{default:H(()=>[C.value?h((n(),s("button",{key:0,onClick:lt,class:"batch-add-btn",title:"æ‰¹é‡æ·»åŠ ç½‘ç«™"},e[39]||(e[39]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)]),512)),[[fe,P.value]]):d("",!0)]),_:1}),z(K,{name:"fab-item"},{default:H(()=>[L.value?h((n(),s("button",{key:0,onClick:Le,class:"exit-edit-btn",title:"é€€å‡ºç¼–è¾‘æ¨¡å¼"},e[40]||(e[40]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),512)),[[fe,P.value]]):d("",!0)]),_:1}),z(K,{name:"fab-item"},{default:H(()=>[L.value?d("",!0):h((n(),s("button",{key:0,onClick:rt,class:"edit-mode-btn",title:"ç¼–è¾‘æ¨¡å¼"},e[41]||(e[41]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),512)),[[fe,P.value]])]),_:1}),t("button",{onClick:Te,class:"fab-toggle-btn",title:"æ›´å¤šåŠŸèƒ½"},[z(K,{name:"fab-icon",mode:"out-in"},{default:H(()=>[P.value?(n(),s("svg",ml,e[43]||(e[43]=[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),t("line",{x1:"6",y1:"6",x2:"18",y2:"12"},null,-1)]))):(n(),s("svg",pl,e[42]||(e[42]=[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))]),_:1})])]),ge.value?(n(),s("div",{key:3,class:"modal-overlay",onClick:ve},[t("div",{class:"modal-content batch-modal",onClick:e[10]||(e[10]=D(()=>{},["stop"]))},[t("div",hl,[t("h3",null,v(U.value===1?"éªŒè¯å¯†ç ":U.value===2?"è¾“å…¥ç½‘å€":"é¢„è§ˆå¹¶é€‰æ‹©"),1),t("button",{onClick:ve,class:"close-btn"},e[44]||(e[44]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",fl,[U.value===1?(n(),s("div",gl,[e[46]||(e[46]=t("p",{class:"batch-tip"},"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ä»¥ç»§ç»­ï¼š",-1)),h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>A.value=a),type:"password",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ",class:"batch-input",onKeyup:ye($e,["enter"])},null,544),[[I,A.value]]),t("div",bl,[t("label",null,[h(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=a=>W.value=a)},null,512),[[we,W.value]]),e[45]||(e[45]=t("span",null,"è®°ä½å¯†ç ï¼ˆ2å°æ—¶ï¼‰",-1))])]),b.value?(n(),s("p",kl,v(b.value),1)):d("",!0),t("div",yl,[t("button",{onClick:ve,class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:$e,class:"btn btn-primary",disabled:E.value},v(E.value?"éªŒè¯ä¸­...":"ç¡®è®¤"),9,wl)])])):d("",!0),U.value===2?(n(),s("div",Cl,[e[47]||(e[47]=t("p",{class:"batch-tip"},"è¯·è¾“å…¥éœ€è¦æ·»åŠ çš„ç½‘å€ï¼Œæ¯è¡Œä¸€ä¸ªï¼š",-1)),h(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=a=>ae.value=a),placeholder:`ä¾‹å¦‚ï¼š
https://github.com
https://google.com
https://stackoverflow.com`,class:"batch-textarea",rows:"10"},null,512),[[I,ae.value]]),b.value?(n(),s("p",_l,v(b.value),1)):d("",!0),t("div",Ml,[t("button",{onClick:ot,class:"btn btn-cancel"},"ä¸Šä¸€æ­¥"),t("button",{onClick:st,class:"btn btn-primary",disabled:E.value||!ae.value.trim()},v(E.value?"è§£æä¸­...":"ä¸‹ä¸€æ­¥"),9,xl)])])):d("",!0),U.value===3?(n(),s("div",Sl,[e[51]||(e[51]=t("p",{class:"batch-tip"},"è¯·é€‰æ‹©éœ€è¦æ·»åŠ çš„ç½‘ç«™ï¼š",-1)),t("div",Il,[(n(!0),s(F,null,T(oe.value,(a,S)=>(n(),s("div",{key:S,class:"batch-preview-item"},[h(t("input",{type:"checkbox","onUpdate:modelValue":V=>a.selected=V,id:`card-${S}`},null,8,El),[[we,a.selected]]),t("div",$l,[t("img",{src:a.logo,alt:a.title,class:"batch-card-logo",onError:e[8]||(e[8]=V=>V.target.src="/default-favicon.png")},null,40,Ul),t("div",Ll,[t("div",Bl,[e[48]||(e[48]=t("label",null,"æ ‡é¢˜ï¼š",-1)),h(t("input",{type:"text","onUpdate:modelValue":V=>a.title=V,class:"batch-edit-input"},null,8,Vl),[[I,a.title]])]),t("div",Dl,[e[49]||(e[49]=t("label",null,"Logoï¼š",-1)),h(t("input",{type:"text","onUpdate:modelValue":V=>a.logo=V,class:"batch-edit-input"},null,8,Al),[[I,a.logo]])]),t("div",Nl,[e[50]||(e[50]=t("label",null,"æè¿°ï¼š",-1)),h(t("textarea",{"onUpdate:modelValue":V=>a.description=V,class:"batch-edit-textarea",rows:"2"},null,8,Pl),[[I,a.description]])]),t("p",Rl,v(a.url),1),a.success?d("",!0):(n(),s("p",zl,"âš ï¸ "+v(a.error),1))])])]))),128))]),b.value?(n(),s("p",Fl,v(b.value),1)):d("",!0),t("div",Tl,[t("button",{onClick:e[9]||(e[9]=a=>U.value=2),class:"btn btn-cancel"},"ä¸Šä¸€æ­¥"),t("button",{onClick:nt,class:"btn btn-primary",disabled:E.value||xe.value===0},v(E.value?"æ·»åŠ ä¸­...":`æ·»åŠ  (${xe.value})`),9,ql)])])):d("",!0)])])])):d("",!0),t("footer",Ol,[t("div",Jl,[t("button",{onClick:e[11]||(e[11]=a=>re.value=!0),class:"friend-link-btn"},e[52]||(e[52]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),Pe(" å‹æƒ…é“¾æ¥ ")])),e[53]||(e[53]=t("p",{class:"copyright"},[Pe("Copyright Â© 2025 Nav-Item | "),t("a",{href:"https://github.com/zczy-k/nav-item",target:"_blank",class:"footer-link"},"Powered by zczy-k")],-1))])]),X.value?(n(),s("div",{key:4,class:"modal-overlay",onClick:e[17]||(e[17]=a=>X.value=!1)},[t("div",{class:"modal-content",onClick:e[16]||(e[16]=D(()=>{},["stop"]))},[t("div",jl,[e[55]||(e[55]=t("h3",null,"è¿›å…¥ç¼–è¾‘æ¨¡å¼",-1)),t("button",{onClick:e[12]||(e[12]=a=>X.value=!1),class:"close-btn"},e[54]||(e[54]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Gl,[e[57]||(e[57]=t("p",{style:{"margin-bottom":"15px"}},"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ä»¥ç»§ç»­ï¼š",-1)),h(t("input",{"onUpdate:modelValue":e[13]||(e[13]=a=>j.value=a),type:"password",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ",class:"batch-input",onKeyup:ye(Ue,["enter"]),style:{width:"100%"}},null,544),[[I,j.value]]),t("div",Hl,[t("label",null,[h(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=a=>ue.value=a)},null,512),[[we,ue.value]]),e[56]||(e[56]=t("span",null,"è®°ä½å¯†ç ï¼ˆ2å°æ—¶ï¼‰",-1))])]),M.value?(n(),s("p",Kl,v(M.value),1)):d("",!0),t("div",Ql,[t("button",{onClick:e[15]||(e[15]=a=>X.value=!1),class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:Ue,class:"btn btn-primary",disabled:N.value},v(N.value?"éªŒè¯ä¸­...":"ç¡®è®¤"),9,Wl)])])])])):d("",!0),re.value?(n(),s("div",{key:5,class:"modal-overlay",onClick:e[20]||(e[20]=a=>re.value=!1)},[t("div",{class:"modal-content",onClick:e[19]||(e[19]=D(()=>{},["stop"]))},[t("div",Xl,[e[59]||(e[59]=t("h3",null,"å‹æƒ…é“¾æ¥",-1)),t("button",{onClick:e[18]||(e[18]=a=>re.value=!1),class:"close-btn"},e[58]||(e[58]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Yl,[t("div",Zl,[(n(!0),s(F,null,T(Ce.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank",class:"friend-link-card"},[t("div",ta,[a.logo?(n(),s("img",{key:0,src:a.logo,alt:a.title,loading:"lazy",onError:tt},null,40,la)):(n(),s("div",aa,v(a.title.charAt(0)),1))]),t("div",oa,[t("h4",null,v(a.title),1)])],8,ea))),128))])])])])):d("",!0),ke.value?(n(),s("div",{key:6,class:"modal-overlay",onClick:pe},[t("div",{class:"modal-content",onClick:e[25]||(e[25]=D(()=>{},["stop"]))},[t("div",{class:"modal-header"},[e[61]||(e[61]=t("h3",null,"ç¼–è¾‘å¡ç‰‡",-1)),t("button",{onClick:pe,class:"close-btn"},e[60]||(e[60]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",sa,[t("div",na,[t("div",ia,[e[62]||(e[62]=t("label",null,"æ ‡é¢˜",-1)),h(t("input",{"onUpdate:modelValue":e[21]||(e[21]=a=>w.value.title=a),type:"text",placeholder:"è¯·è¾“å…¥æ ‡é¢˜",class:"batch-input"},null,512),[[I,w.value.title]])]),t("div",ra,[e[63]||(e[63]=t("label",null,"ç½‘å€",-1)),h(t("input",{"onUpdate:modelValue":e[22]||(e[22]=a=>w.value.url=a),type:"url",placeholder:"è¯·è¾“å…¥ç½‘å€",class:"batch-input"},null,512),[[I,w.value.url]])]),t("div",ua,[e[64]||(e[64]=t("label",null,"Logo é“¾æ¥",-1)),h(t("input",{"onUpdate:modelValue":e[23]||(e[23]=a=>w.value.logo_url=a),type:"url",placeholder:"è¯·è¾“å…¥ Logo å›¾ç‰‡é“¾æ¥",class:"batch-input"},null,512),[[I,w.value.logo_url]])]),t("div",da,[e[65]||(e[65]=t("label",null,"æè¿°",-1)),h(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=a=>w.value.desc=a),placeholder:"è¯·è¾“å…¥æè¿°",class:"batch-textarea",rows:"4"},null,512),[[I,w.value.desc]])]),M.value?(n(),s("p",ca,v(M.value),1)):d("",!0),t("div",va,[t("button",{onClick:pe,class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:ht,class:"btn btn-primary",disabled:N.value},v(N.value?"ä¿å­˜ä¸­...":"ä¿å­˜"),9,pa)])])])])])):d("",!0),Y.value?(n(),s("div",{key:7,class:"modal-overlay",onClick:e[32]||(e[32]=a=>Y.value=!1)},[t("div",{class:"modal-content",onClick:e[31]||(e[31]=D(()=>{},["stop"]))},[t("div",ma,[e[67]||(e[67]=t("h3",null,"æ·»åŠ è‡ªå®šä¹‰æœç´¢å¼•æ“",-1)),t("button",{onClick:e[26]||(e[26]=a=>Y.value=!1),class:"close-btn"},e[66]||(e[66]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",ha,[t("div",fa,[e[68]||(e[68]=t("label",null,"å›¾æ ‡ Emoji",-1)),h(t("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>_.value.icon=a),type:"text",placeholder:"ğŸ” (å¯é€‰)",class:"batch-input",maxlength:"2"},null,512),[[I,_.value.icon]])]),t("div",ga,[e[69]||(e[69]=t("label",null,"åç§°",-1)),h(t("input",{"onUpdate:modelValue":e[28]||(e[28]=a=>_.value.label=a),type:"text",placeholder:"ä¾‹å¦‚ï¼šWikipedia",class:"batch-input"},null,512),[[I,_.value.label]])]),t("div",ba,[e[70]||(e[70]=t("label",null,"æœç´¢åœ°å€",-1)),h(t("input",{"onUpdate:modelValue":e[29]||(e[29]=a=>_.value.searchUrl=a),type:"url",placeholder:"ä¾‹å¦‚ï¼šhttps://zh.wikipedia.org/wiki/{query}",class:"batch-input"},null,512),[[I,_.value.searchUrl]]),e[71]||(e[71]=t("p",{style:{"font-size":"12px",color:"#666","margin-top":"5px"}},"æç¤ºï¼šä½¿ç”¨ {query} ä½œä¸ºæœç´¢å…³é”®è¯å ä½ç¬¦",-1))]),ee.value?(n(),s("p",ka,v(ee.value),1)):d("",!0),t("div",ya,[t("button",{onClick:e[30]||(e[30]=a=>Y.value=!1),class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:Qe,class:"btn btn-primary"}," æ·»åŠ  ")])])])])):d("",!0),z(K,{name:"toast"},{default:H(()=>[be.value?(n(),s("div",wa,v(_e.value),1)):d("",!0)]),_:1})])}}},Ia=Fe(Ca,[["__scopeId","data-v-da327216"]]);export{Ia as default};
