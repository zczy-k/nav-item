const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardGrid-BpTWcH72.js","assets/index-DBvggqXi.js","assets/CardGrid-CR1X23qM.css"])))=>i.map(i=>d[i]);
var vt=Object.defineProperty,pt=Object.defineProperties;var ht=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var Ve=(k,h,d)=>h in k?vt(k,h,{enumerable:!0,configurable:!0,writable:!0,value:d}):k[h]=d,pe=(k,h)=>{for(var d in h||(h={}))bt.call(h,d)&&Ve(k,d,h[d]);if(Be)for(var d of Be(h))ft.call(h,d)&&Ve(k,d,h[d]);return k},he=(k,h)=>pt(k,ht(h));var f=(k,h,d)=>new Promise((_,m)=>{var H=E=>{try{p(d.next(E))}catch(O){m(O)}},y=E=>{try{p(d.throw(E))}catch(O){m(O)}},p=E=>E.done?_(E.value):Promise.resolve(E.value).then(H,y);p((d=d.apply(k,h)).next())});import{_ as Re,r as u,c as s,F as R,a as z,o as n,b as t,d as c,t as v,n as te,e as Ae,f as mt,g as gt,h as kt,i as q,w as b,v as I,j as ke,k as F,u as yt,l as wt,m as Y,T as Z,p as ye,q as De,s as _t,x as be}from"./index-DBvggqXi.js";import{g as Ct,a as Mt,b as xt,c as ee,l as Ne,d as St,e as It,u as Pe,f as $t,h as Et,i as Ut}from"./api-BbZSgGBc.js";const Lt={class:"menu-bar"},Bt=["onMouseenter","onMouseleave"],Vt=["onClick"],At=["onClick"],Dt={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(k){const h=u(null);function d(m){h.value=m}function _(m){setTimeout(()=>{h.value===m&&(h.value=null)},100)}return(m,H)=>(n(),s("nav",Lt,[(n(!0),s(R,null,z(k.menus,y=>(n(),s("div",{key:y.id,class:"menu-item",onMouseenter:p=>d(y.id),onMouseleave:p=>_(y.id)},[t("button",{onClick:p=>m.$emit("select",y),class:te({active:y.id===k.activeId})},v(y.name),11,Vt),y.subMenus&&y.subMenus.length>0?(n(),s("div",{key:0,class:te(["sub-menu",{show:h.value===y.id}])},[(n(!0),s(R,null,z(y.subMenus,p=>(n(),s("button",{key:p.id,onClick:E=>m.$emit("select",p,y),class:te([{active:p.id===k.activeSubMenuId},"sub-menu-item"])},v(p.name),11,At))),128))],2)):c("",!0)],40,Bt))),128))]))}},Nt=Re(Dt,[["__scopeId","data-v-16a94230"]]),Pt={class:"menu-bar-fixed"},Rt={class:"search-section"},zt={class:"search-box-wrapper"},Tt={class:"search-engine-select"},qt=["onClick"],Ft={class:"engine-icon"},Ot={class:"engine-label"},Jt=["onClick"],jt={class:"search-container"},Gt=["placeholder"],Ht={key:0,class:"ad-space-fixed left-ad-fixed"},Kt=["href"],Qt=["src"],Wt={key:1,class:"ad-space-fixed right-ad-fixed"},Xt=["href"],Yt=["src"],Zt={key:2,class:"move-target-panel"},el={class:"move-target-header"},tl={class:"move-target-list"},ll=["onClick"],al={key:0,class:"target-submenu-list"},ol=["onClick"],sl=["disabled"],nl={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},rl={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},il={key:"plus",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},ul={key:"close",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},dl={class:"modal-header"},cl={class:"modal-body"},vl={key:0,class:"batch-step"},pl={class:"remember-password-wrapper"},hl={key:0,class:"batch-error"},bl={class:"batch-actions"},fl=["disabled"],ml={key:1,class:"batch-step"},gl={key:0,class:"batch-error"},kl={class:"batch-actions"},yl=["disabled"],wl={key:2,class:"batch-step"},_l={class:"batch-preview-list"},Cl=["onUpdate:modelValue","id"],Ml={class:"batch-card-preview"},xl=["src","alt"],Sl={class:"batch-card-info"},Il={class:"batch-edit-field"},$l=["onUpdate:modelValue"],El={class:"batch-edit-field"},Ul=["onUpdate:modelValue"],Ll={class:"batch-edit-field"},Bl=["onUpdate:modelValue"],Vl={class:"batch-card-url"},Al={key:0,class:"batch-card-warning"},Dl={key:0,class:"batch-error"},Nl={class:"batch-actions"},Pl=["disabled"],Rl={class:"footer"},zl={class:"footer-content"},Tl={class:"modal-header"},ql={class:"modal-body"},Fl={class:"remember-password-wrapper"},Ol={key:0,class:"batch-error"},Jl={class:"batch-actions",style:{"margin-top":"20px"}},jl=["disabled"],Gl={class:"modal-header"},Hl={class:"modal-body"},Kl={class:"friend-links-grid"},Ql=["href"],Wl={class:"friend-link-logo"},Xl=["src","alt"],Yl={key:1,class:"friend-link-placeholder"},Zl={class:"friend-link-info"},ea={class:"modal-body"},ta={class:"edit-card-form"},la={class:"form-group"},aa={class:"form-group"},oa={class:"form-group"},sa={class:"form-group"},na={key:0,class:"batch-error"},ra={class:"batch-actions",style:{"margin-top":"20px"}},ia=["disabled"],ua={class:"modal-header"},da={class:"modal-body"},ca={class:"form-group"},va={class:"form-group"},pa={class:"form-group"},ha={key:0,class:"batch-error"},ba={class:"batch-actions",style:{"margin-top":"20px"}},fa={key:0,class:"toast-notification"},ma={__name:"Home",setup(k){const h=wt(()=>_t(()=>import("./CardGrid-BpTWcH72.js"),__vite__mapDeps([0,1,2]))),d=u([]),_=u(null),m=u(null),H=u([]),y=u([]),p=u(""),E=u([]),O=u([]),re=u(!1),we=u([]),fe=u(!1),U=u(1),A=u(""),le=u(""),$=u(!1),g=u(""),ae=u([]),K=u(!1),L=u(!1),J=u(""),Q=u(!1),D=u(!1),M=u(""),ie=u(!1),B=u([]),j=u(!1),oe=u(null),se=u(null),_e=u(""),me=u(!1),ge=u(!1),ue=u(null),w=u({title:"",url:"",logo_url:"",desc:""}),N=u(!1);function ze(){N.value=!N.value}function Ce(){N.value&&(N.value=!1)}const ne=u(!1),Me=Ae(()=>ae.value.filter(l=>l.selected).length),Te=[{name:"google",label:"Google",icon:"ğŸŒ",placeholder:"Google æœç´¢...",url:l=>`https://www.google.com/search?q=${encodeURIComponent(l)}`},{name:"baidu",label:"ç™¾åº¦",icon:"ğŸ”",placeholder:"ç™¾åº¦æœç´¢...",url:l=>`https://www.baidu.com/s?wd=${encodeURIComponent(l)}`},{name:"bing",label:"Bing",icon:"ğŸ…±ï¸",placeholder:"Bing æœç´¢...",url:l=>`https://www.bing.com/search?q=${encodeURIComponent(l)}`},{name:"github",label:"GitHub",icon:"ğŸ’»",placeholder:"GitHub æœç´¢...",url:l=>`https://github.com/search?q=${encodeURIComponent(l)}&type=repositories`},{name:"site",label:"ç«™å†…",icon:"ğŸ ",placeholder:"ç«™å†…æœç´¢...",url:l=>`/search?query=${encodeURIComponent(l)}`}],qe=()=>{try{const l=localStorage.getItem("custom_search_engines");if(l)return JSON.parse(l)}catch(l){console.error("Failed to load custom engines:",l)}return[]},xe=l=>{try{localStorage.setItem("custom_search_engines",JSON.stringify(l))}catch(e){console.error("Failed to save custom engines:",e)}},P=u([...Te,...qe()]),W=u(!1),X=u(""),C=u({icon:"",label:"",searchUrl:""}),G=u((()=>{try{const l=localStorage.getItem("default_search_engine");if(l){const e=P.value.find(o=>o.name===l);if(e)return e}}catch(l){console.error("Failed to load default search engine:",l)}return P.value[0]})());function Fe(l){G.value=l;try{localStorage.setItem("default_search_engine",l.name)}catch(e){console.error("Failed to save default search engine:",e)}}function Oe(){p.value=""}function Je(){W.value=!0,X.value="",C.value={icon:"",label:"",searchUrl:""}}function je(){if(!C.value.label.trim()){X.value="è¯·è¾“å…¥æœç´¢å¼•æ“åç§°";return}if(!C.value.searchUrl.trim()){X.value="è¯·è¾“å…¥æœç´¢åœ°å€";return}if(!C.value.searchUrl.includes("{query}")){X.value="æœç´¢åœ°å€å¿…é¡»åŒ…å« {query} å ä½ç¬¦";return}const l={name:"custom_"+Date.now(),label:C.value.label,icon:C.value.icon||"ğŸ”",placeholder:`${C.value.label} æœç´¢...`,url:o=>C.value.searchUrl.replace("{query}",encodeURIComponent(o)),custom:!0,searchUrl:C.value.searchUrl};P.value.push(l);const e=P.value.filter(o=>o.custom);xe(e),W.value=!1,alert("æœç´¢å¼•æ“æ·»åŠ æˆåŠŸï¼")}function Ge(l){if(!confirm(`ç¡®å®šè¦åˆ é™¤ã€Œ${l.label}ã€æœç´¢å¼•æ“å—ï¼Ÿ`))return;const e=P.value.findIndex(r=>r.name===l.name);e>-1&&P.value.splice(e,1),G.value.name===l.name&&(G.value=P.value[0]);const o=P.value.filter(r=>r.custom);xe(o)}const He=Ae(()=>{if(!p.value)return H.value;const l=p.value.toLowerCase();return y.value.filter(e=>e.title.toLowerCase().includes(l)||e.url.toLowerCase().includes(l)||e.desc&&e.desc.toLowerCase().includes(l))});mt(()=>{const l=localStorage.getItem("nav_background");l&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".home-container");e&&(e.style.backgroundImage=`url(${l})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment="fixed")})}),gt(()=>f(null,null,function*(){const l=yield Ct();d.value=l.data,d.value.length&&(_.value=d.value[0],T(),We());const e=yield Mt();E.value=e.data.filter(i=>i.position==="left"),O.value=e.data.filter(i=>i.position==="right");const o=yield xt();we.value=o.data;const r=localStorage.getItem("nav_background");if(r){const i=document.querySelector(".home-container");i&&!i.style.backgroundImage.includes(r)&&(i.style.backgroundImage=`url(${r})`,i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundRepeat="no-repeat",i.style.backgroundAttachment="fixed")}Ze(),document.addEventListener("click",Ce)})),kt(()=>{document.removeEventListener("click",Ce)});function Ke(l,e=null){return f(this,null,function*(){e?(_.value=e,m.value=l):(_.value=l,m.value=null),T()})}const Qe=u({});function T(){return f(this,null,function*(){var e;if(!_.value)return;const l=yield ee(_.value.id,(e=m.value)==null?void 0:e.id);H.value=l.data})}function We(){return f(this,null,function*(){const l=[];for(const e of d.value)try{const o=yield ee(e.id,null);if(l.push(...o.data),e.subMenus&&e.subMenus.length)for(const r of e.subMenus){const i=yield ee(e.id,r.id);l.push(...i.data)}}catch(o){console.error(`åŠ è½½èœå• ${e.name} çš„å¡ç‰‡å¤±è´¥:`,o)}y.value=l})}function de(){return f(this,null,function*(){const l={};for(const e of d.value){const o=yield ee(e.id,null),r=`${e.id}_null`;if(l[r]=o.data,e.subMenus&&e.subMenus.length)for(const i of e.subMenus){const x=yield ee(e.id,i.id),a=`${e.id}_${i.id}`;l[a]=x.data}}Qe.value=l})}function Se(){return f(this,null,function*(){if(p.value.trim())if(G.value.name==="site"){let l=!1;for(const e of d.value){const o=yield ee(e.id),r=o.data.find(i=>i.title.toLowerCase().includes(p.value.toLowerCase())||i.url.toLowerCase().includes(p.value.toLowerCase()));if(r){_.value=e,H.value=o.data,setTimeout(()=>{const i=document.querySelector(`[data-card-id='${r.id}']`);i&&i.scrollIntoView({behavior:"smooth",block:"center"})},100),l=!0;break}}l||alert("æœªæ‰¾åˆ°ç›¸å…³å†…å®¹")}else{const l=G.value.url(p.value);window.open(l,"_blank")}})}function Xe(l){l.target.style.display="none",l.target.nextElementSibling.style.display="flex"}function Ye(){return f(this,null,function*(){fe.value=!0,g.value="";const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:r}=JSON.parse(l);if(Date.now()<o&&r){localStorage.setItem("token",r),A.value=e,K.value=!0,U.value=2;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}U.value=1})}function ce(){fe.value=!1,U.value=1,A.value="",le.value="",g.value="",ae.value=[],$.value=!1}function Ze(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:r}=JSON.parse(l);Date.now()<o?(A.value=e,K.value=!0,r&&localStorage.setItem("token",r)):localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}}function Ie(){return f(this,null,function*(){if(!A.value){g.value="è¯·è¾“å…¥å¯†ç ";return}$.value=!0,g.value="";try{const l=yield Ne("admin",A.value);if(l.data&&l.data.token)localStorage.setItem("token",l.data.token);else throw new Error("ç™»å½•æˆåŠŸï¼Œä½†æœªæ”¶åˆ° token");if(K.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:A.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");U.value=2}catch(l){g.value="å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•",console.error("å¯†ç éªŒè¯å¤±è´¥:",l)}finally{$.value=!1}})}function et(){localStorage.removeItem("nav_password_token"),localStorage.removeItem("token"),A.value="",K.value=!1,U.value=1}function tt(){return f(this,null,function*(){var e,o;const l=le.value.split(`
`).map(r=>r.trim()).filter(r=>r.length>0);if(l.length===0){g.value="è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ªç½‘å€";return}$.value=!0,g.value="";try{const r=yield St(l);ae.value=r.data.data.map(i=>he(pe({},i),{selected:!0})),U.value=3}catch(r){g.value=((o=(e=r.response)==null?void 0:e.data)==null?void 0:o.error)||"è§£æå¤±è´¥ï¼Œè¯·é‡è¯•"}finally{$.value=!1}})}function lt(){return f(this,null,function*(){var e,o,r;const l=ae.value.filter(i=>i.selected);if(l.length===0){g.value="è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªç½‘ç«™";return}$.value=!0,g.value="";try{const i=l.map(x=>({title:x.title,url:x.url,logo:x.logo,description:x.description}));yield It(_.value.id,((e=m.value)==null?void 0:e.id)||null,i),alert(`æˆåŠŸæ·»åŠ  ${l.length} ä¸ªç½‘ç«™ï¼`),ce(),yield T()}catch(i){g.value=((r=(o=i.response)==null?void 0:o.data)==null?void 0:r.error)||"æ·»åŠ å¤±è´¥ï¼Œè¯·é‡è¯•"}finally{$.value=!1}})}function at(){return f(this,null,function*(){if(!ne.value){ne.value=!0;try{const e=(yield $t()).data.url;let o=document.getElementById("dynamic-bg-style");o||(o=document.createElement("style"),o.id="dynamic-bg-style",document.head.appendChild(o)),o.textContent=`.home-container { background-image: url(${e}) !important; }`,localStorage.setItem("nav_background",e)}catch(l){console.error("è·å–å£çº¸å¤±è´¥:",l),alert("è·å–å£çº¸å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}finally{ne.value=!1}}})}function ot(){return f(this,null,function*(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:o,token:r}=JSON.parse(l);if(Date.now()<o&&r){localStorage.setItem("token",r),L.value=!0;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}if(Q.value=!0,J.value="",M.value="",l)try{const{password:e,expiry:o}=JSON.parse(l);Date.now()<o&&(J.value=e,ie.value=!0)}catch(e){}})}function $e(){return f(this,null,function*(){if(!J.value){M.value="è¯·è¾“å…¥å¯†ç ";return}D.value=!0,M.value="";try{const l=yield Ne("admin",J.value);if(localStorage.setItem("token",l.data.token),ie.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:J.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");L.value=!0,Q.value=!1,D.value=!1}catch(l){M.value="å¯†ç é”™è¯¯",D.value=!1}})}function Ee(){L.value=!1,B.value=[],j.value=!1,oe.value=null,se.value=null}function st(l){L.value&&l.target.classList.contains("home-container")&&Ee()}function nt(){j.value=!1,oe.value=null,se.value=null}function rt(l){var o,r;const e=B.value.findIndex(i=>i.id===l.id);e>-1?(B.value.splice(e,1),B.value.length===0&&(j.value=!1)):(B.value.push(l),j.value||(j.value=!0,oe.value=((o=_.value)==null?void 0:o.id)||null,se.value=((r=m.value)==null?void 0:r.id)||null))}function Ue(l,e=2e3){_e.value=l,me.value=!0,setTimeout(()=>{me.value=!1},e)}function Le(l,e){return f(this,null,function*(){var o,r;if(B.value.length!==0)try{const i=B.value.map(a=>({id:a.id,menu_id:l,sub_menu_id:e}));for(const a of i){const S=B.value.find(V=>V.id===a.id);yield Pe(a.id,he(pe({},S),{menu_id:a.menu_id,sub_menu_id:a.sub_menu_id}))}const x=B.value.length;Ue(`å·²ç§»åŠ¨ ${x} ä¸ªå¡ç‰‡ï¼`),B.value=[],j.value=!1,yield T()}catch(i){Ue(`ç§»åŠ¨å¤±è´¥ï¼š${((r=(o=i.response)==null?void 0:o.data)==null?void 0:r.error)||i.message}`)}})}function it(l,e,o){return f(this,null,function*(){var i,x;const r=l.map((a,S)=>({id:a,order:S,menu_id:e,sub_menu_id:o}));try{yield Ut(r),L.value?yield de():yield T()}catch(a){alert("ä¿å­˜å¤±è´¥ï¼š"+(((x=(i=a.response)==null?void 0:i.data)==null?void 0:x.error)||a.message)),L.value?yield de():yield T()}})}function ut(l){return f(this,null,function*(){var e,o;if(confirm(`ç¡®å®šè¦åˆ é™¤ã€Œ${l.title}ã€å—ï¼Ÿ`))try{yield Et(l.id),alert("åˆ é™¤æˆåŠŸ"),L.value?yield de():yield T()}catch(r){alert("åˆ é™¤å¤±è´¥ï¼š"+(((o=(e=r.response)==null?void 0:e.data)==null?void 0:o.error)||r.message))}})}function dt(l){ue.value=l,w.value={title:l.title||"",url:l.url||"",logo_url:l.logo_url||"",desc:l.desc||""},M.value="",ge.value=!0}function ve(){ge.value=!1,ue.value=null,w.value={title:"",url:"",logo_url:"",desc:""},M.value=""}function ct(){return f(this,null,function*(){var l,e;if(!w.value.title.trim()){M.value="è¯·è¾“å…¥æ ‡é¢˜";return}if(!w.value.url.trim()){M.value="è¯·è¾“å…¥ç½‘å€";return}D.value=!0,M.value="";try{yield Pe(ue.value.id,he(pe({},ue.value),{title:w.value.title,url:w.value.url,logo_url:w.value.logo_url,desc:w.value.desc})),alert("ä¿®æ”¹æˆåŠŸ"),ve(),L.value?yield de():yield T()}catch(o){M.value="ä¿®æ”¹å¤±è´¥ï¼š"+(((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.error)||o.message)}finally{D.value=!1}})}return(l,e)=>{var o,r,i,x;return n(),s("div",{class:"home-container",onClick:st},[t("div",Pt,[q(Nt,{menus:d.value,activeId:(o=_.value)==null?void 0:o.id,activeSubMenuId:(r=m.value)==null?void 0:r.id,onSelect:Ke},null,8,["menus","activeId","activeSubMenuId"])]),t("div",Rt,[t("div",zt,[t("div",Tt,[(n(!0),s(R,null,z(P.value,a=>(n(),s("button",{key:a.name,class:te(["engine-btn",{active:G.value.name===a.name}]),onClick:S=>Fe(a)},[t("span",Ft,v(a.icon||"ğŸ”"),1),t("span",Ot,v(a.label),1),a.custom?(n(),s("button",{key:0,onClick:F(S=>Ge(a),["stop"]),class:"delete-engine-btn",title:"åˆ é™¤"}," Ã— ",8,Jt)):c("",!0)],10,qt))),128)),t("button",{onClick:Je,class:"engine-btn add-engine-btn",title:"æ·»åŠ æœç´¢å¼•æ“"},e[31]||(e[31]=[t("span",{class:"engine-icon"},"+",-1),t("span",{class:"engine-label"},"æ·»åŠ ",-1)]))]),t("div",jt,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),type:"text",placeholder:G.value.placeholder,class:"search-input",onKeyup:ke(Se,["enter"])},null,40,Gt),[[I,p.value]]),p.value?(n(),s("button",{key:0,class:"clear-btn",onClick:Oe,"aria-label":"æ¸…ç©º",title:"clear"},e[32]||(e[32]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):c("",!0),t("button",{onClick:Se,class:"search-btn",title:"search"},e[33]||(e[33]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),E.value.length?(n(),s("div",Ht,[(n(!0),s(R,null,z(E.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank"},[t("img",{src:a.img,alt:"å¹¿å‘Š",loading:"lazy"},null,8,Qt)],8,Kt))),128))])):c("",!0),O.value.length?(n(),s("div",Wt,[(n(!0),s(R,null,z(O.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank"},[t("img",{src:a.img,alt:"å¹¿å‘Š",loading:"lazy"},null,8,Yt)],8,Xt))),128))])):c("",!0),L.value&&j.value?(n(),s("div",Zt,[t("div",el,[t("h4",null,"ç§»åŠ¨åˆ° ("+v(B.value.length)+")",1),t("button",{onClick:nt,class:"cancel-move-btn"},"Ã—")]),t("div",tl,[(n(!0),s(R,null,z(d.value,a=>(n(),s("div",{key:a.id,class:"target-menu-group"},[t("button",{onClick:S=>Le(a.id,null),class:te(["target-menu-btn",{active:oe.value===a.id&&se.value===null}])},v(a.name),11,ll),a.subMenus&&a.subMenus.length?(n(),s("div",al,[(n(!0),s(R,null,z(a.subMenus,S=>(n(),s("button",{key:S.id,onClick:V=>Le(a.id,S.id),class:te(["target-submenu-btn",{active:oe.value===a.id&&se.value===S.id}])}," â¤· "+v(S.name),11,ol))),128))])):c("",!0)]))),128))])])):c("",!0),q(yt(h),{cards:He.value,editMode:L.value,selectedCards:B.value,categoryId:(i=_.value)==null?void 0:i.id,subCategoryId:(x=m.value)==null?void 0:x.id,onCardsReordered:it,onEditCard:dt,onDeleteCard:ut,onToggleCardSelection:rt,onClick:e[1]||(e[1]=F(()=>{},["stop"]))},null,8,["cards","editMode","selectedCards","categoryId","subCategoryId"]),t("div",{class:"fab-container",onClick:e[2]||(e[2]=F(()=>{},["stop"]))},[q(Z,{name:"fab-item"},{default:Y(()=>[b(t("button",{onClick:at,class:"change-bg-btn",title:"åˆ‡æ¢èƒŒæ™¯",disabled:ne.value},[ne.value?(n(),s("svg",rl,e[35]||(e[35]=[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"},null,-1)]))):(n(),s("svg",nl,e[34]||(e[34]=[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),t("path",{d:"M21 15l-5-5L5 21"},null,-1)])))],8,sl),[[be,N.value]])]),_:1}),q(Z,{name:"fab-item"},{default:Y(()=>[_.value?b((n(),s("button",{key:0,onClick:Ye,class:"batch-add-btn",title:"æ‰¹é‡æ·»åŠ ç½‘ç«™"},e[36]||(e[36]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)]),512)),[[be,N.value]]):c("",!0)]),_:1}),q(Z,{name:"fab-item"},{default:Y(()=>[L.value?b((n(),s("button",{key:0,onClick:Ee,class:"exit-edit-btn",title:"é€€å‡ºç¼–è¾‘æ¨¡å¼"},e[37]||(e[37]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),512)),[[be,N.value]]):c("",!0)]),_:1}),q(Z,{name:"fab-item"},{default:Y(()=>[L.value?c("",!0):b((n(),s("button",{key:0,onClick:ot,class:"edit-mode-btn",title:"ç¼–è¾‘æ¨¡å¼"},e[38]||(e[38]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),512)),[[be,N.value]])]),_:1}),t("button",{onClick:ze,class:"fab-toggle-btn",title:"æ›´å¤šåŠŸèƒ½"},[q(Z,{name:"fab-icon",mode:"out-in"},{default:Y(()=>[N.value?(n(),s("svg",ul,e[40]||(e[40]=[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),t("line",{x1:"6",y1:"6",x2:"18",y2:"12"},null,-1)]))):(n(),s("svg",il,e[39]||(e[39]=[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))]),_:1})])]),fe.value?(n(),s("div",{key:3,class:"modal-overlay",onClick:ce},[t("div",{class:"modal-content batch-modal",onClick:e[8]||(e[8]=F(()=>{},["stop"]))},[t("div",dl,[t("h3",null,v(U.value===1?"éªŒè¯å¯†ç ":U.value===2?"è¾“å…¥ç½‘å€":"é¢„è§ˆå¹¶é€‰æ‹©"),1),t("button",{onClick:ce,class:"close-btn"},e[41]||(e[41]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",cl,[U.value===1?(n(),s("div",vl,[e[43]||(e[43]=t("p",{class:"batch-tip"},"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ä»¥ç»§ç»­ï¼š",-1)),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>A.value=a),type:"password",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ",class:"batch-input",onKeyup:ke(Ie,["enter"])},null,544),[[I,A.value]]),t("div",pl,[t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=a=>K.value=a)},null,512),[[ye,K.value]]),e[42]||(e[42]=t("span",null,"è®°ä½å¯†ç ï¼ˆ2å°æ—¶ï¼‰",-1))])]),g.value?(n(),s("p",hl,v(g.value),1)):c("",!0),t("div",bl,[t("button",{onClick:ce,class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:Ie,class:"btn btn-primary",disabled:$.value},v($.value?"éªŒè¯ä¸­...":"ç¡®è®¤"),9,fl)])])):c("",!0),U.value===2?(n(),s("div",ml,[e[44]||(e[44]=t("p",{class:"batch-tip"},"è¯·è¾“å…¥éœ€è¦æ·»åŠ çš„ç½‘å€ï¼Œæ¯è¡Œä¸€ä¸ªï¼š",-1)),b(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>le.value=a),placeholder:`ä¾‹å¦‚ï¼š
https://github.com
https://google.com
https://stackoverflow.com`,class:"batch-textarea",rows:"10"},null,512),[[I,le.value]]),g.value?(n(),s("p",gl,v(g.value),1)):c("",!0),t("div",kl,[t("button",{onClick:et,class:"btn btn-cancel"},"ä¸Šä¸€æ­¥"),t("button",{onClick:tt,class:"btn btn-primary",disabled:$.value||!le.value.trim()},v($.value?"è§£æä¸­...":"ä¸‹ä¸€æ­¥"),9,yl)])])):c("",!0),U.value===3?(n(),s("div",wl,[e[48]||(e[48]=t("p",{class:"batch-tip"},"è¯·é€‰æ‹©éœ€è¦æ·»åŠ çš„ç½‘ç«™ï¼š",-1)),t("div",_l,[(n(!0),s(R,null,z(ae.value,(a,S)=>(n(),s("div",{key:S,class:"batch-preview-item"},[b(t("input",{type:"checkbox","onUpdate:modelValue":V=>a.selected=V,id:`card-${S}`},null,8,Cl),[[ye,a.selected]]),t("div",Ml,[t("img",{src:a.logo,alt:a.title,class:"batch-card-logo",onError:e[6]||(e[6]=V=>V.target.src="/default-favicon.png")},null,40,xl),t("div",Sl,[t("div",Il,[e[45]||(e[45]=t("label",null,"æ ‡é¢˜ï¼š",-1)),b(t("input",{type:"text","onUpdate:modelValue":V=>a.title=V,class:"batch-edit-input"},null,8,$l),[[I,a.title]])]),t("div",El,[e[46]||(e[46]=t("label",null,"Logoï¼š",-1)),b(t("input",{type:"text","onUpdate:modelValue":V=>a.logo=V,class:"batch-edit-input"},null,8,Ul),[[I,a.logo]])]),t("div",Ll,[e[47]||(e[47]=t("label",null,"æè¿°ï¼š",-1)),b(t("textarea",{"onUpdate:modelValue":V=>a.description=V,class:"batch-edit-textarea",rows:"2"},null,8,Bl),[[I,a.description]])]),t("p",Vl,v(a.url),1),a.success?c("",!0):(n(),s("p",Al,"âš ï¸ "+v(a.error),1))])])]))),128))]),g.value?(n(),s("p",Dl,v(g.value),1)):c("",!0),t("div",Nl,[t("button",{onClick:e[7]||(e[7]=a=>U.value=2),class:"btn btn-cancel"},"ä¸Šä¸€æ­¥"),t("button",{onClick:lt,class:"btn btn-primary",disabled:$.value||Me.value===0},v($.value?"æ·»åŠ ä¸­...":`æ·»åŠ  (${Me.value})`),9,Pl)])])):c("",!0)])])])):c("",!0),t("footer",Rl,[t("div",zl,[t("button",{onClick:e[9]||(e[9]=a=>re.value=!0),class:"friend-link-btn"},e[49]||(e[49]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),De(" å‹æƒ…é“¾æ¥ ")])),e[50]||(e[50]=t("p",{class:"copyright"},[De("Copyright Â© 2025 Nav-Item | "),t("a",{href:"https://github.com/zczy-k/nav-item",target:"_blank",class:"footer-link"},"Powered by zczy-k")],-1))])]),Q.value?(n(),s("div",{key:4,class:"modal-overlay",onClick:e[15]||(e[15]=a=>Q.value=!1)},[t("div",{class:"modal-content",onClick:e[14]||(e[14]=F(()=>{},["stop"]))},[t("div",Tl,[e[52]||(e[52]=t("h3",null,"è¿›å…¥ç¼–è¾‘æ¨¡å¼",-1)),t("button",{onClick:e[10]||(e[10]=a=>Q.value=!1),class:"close-btn"},e[51]||(e[51]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",ql,[e[54]||(e[54]=t("p",{style:{"margin-bottom":"15px"}},"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ä»¥ç»§ç»­ï¼š",-1)),b(t("input",{"onUpdate:modelValue":e[11]||(e[11]=a=>J.value=a),type:"password",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ",class:"batch-input",onKeyup:ke($e,["enter"]),style:{width:"100%"}},null,544),[[I,J.value]]),t("div",Fl,[t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=a=>ie.value=a)},null,512),[[ye,ie.value]]),e[53]||(e[53]=t("span",null,"è®°ä½å¯†ç ï¼ˆ2å°æ—¶ï¼‰",-1))])]),M.value?(n(),s("p",Ol,v(M.value),1)):c("",!0),t("div",Jl,[t("button",{onClick:e[13]||(e[13]=a=>Q.value=!1),class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:$e,class:"btn btn-primary",disabled:D.value},v(D.value?"éªŒè¯ä¸­...":"ç¡®è®¤"),9,jl)])])])])):c("",!0),re.value?(n(),s("div",{key:5,class:"modal-overlay",onClick:e[18]||(e[18]=a=>re.value=!1)},[t("div",{class:"modal-content",onClick:e[17]||(e[17]=F(()=>{},["stop"]))},[t("div",Gl,[e[56]||(e[56]=t("h3",null,"å‹æƒ…é“¾æ¥",-1)),t("button",{onClick:e[16]||(e[16]=a=>re.value=!1),class:"close-btn"},e[55]||(e[55]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Hl,[t("div",Kl,[(n(!0),s(R,null,z(we.value,a=>(n(),s("a",{key:a.id,href:a.url,target:"_blank",class:"friend-link-card"},[t("div",Wl,[a.logo?(n(),s("img",{key:0,src:a.logo,alt:a.title,loading:"lazy",onError:Xe},null,40,Xl)):(n(),s("div",Yl,v(a.title.charAt(0)),1))]),t("div",Zl,[t("h4",null,v(a.title),1)])],8,Ql))),128))])])])])):c("",!0),ge.value?(n(),s("div",{key:6,class:"modal-overlay",onClick:ve},[t("div",{class:"modal-content",onClick:e[23]||(e[23]=F(()=>{},["stop"]))},[t("div",{class:"modal-header"},[e[58]||(e[58]=t("h3",null,"ç¼–è¾‘å¡ç‰‡",-1)),t("button",{onClick:ve,class:"close-btn"},e[57]||(e[57]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",ea,[t("div",ta,[t("div",la,[e[59]||(e[59]=t("label",null,"æ ‡é¢˜",-1)),b(t("input",{"onUpdate:modelValue":e[19]||(e[19]=a=>w.value.title=a),type:"text",placeholder:"è¯·è¾“å…¥æ ‡é¢˜",class:"batch-input"},null,512),[[I,w.value.title]])]),t("div",aa,[e[60]||(e[60]=t("label",null,"ç½‘å€",-1)),b(t("input",{"onUpdate:modelValue":e[20]||(e[20]=a=>w.value.url=a),type:"url",placeholder:"è¯·è¾“å…¥ç½‘å€",class:"batch-input"},null,512),[[I,w.value.url]])]),t("div",oa,[e[61]||(e[61]=t("label",null,"Logo é“¾æ¥",-1)),b(t("input",{"onUpdate:modelValue":e[21]||(e[21]=a=>w.value.logo_url=a),type:"url",placeholder:"è¯·è¾“å…¥ Logo å›¾ç‰‡é“¾æ¥",class:"batch-input"},null,512),[[I,w.value.logo_url]])]),t("div",sa,[e[62]||(e[62]=t("label",null,"æè¿°",-1)),b(t("textarea",{"onUpdate:modelValue":e[22]||(e[22]=a=>w.value.desc=a),placeholder:"è¯·è¾“å…¥æè¿°",class:"batch-textarea",rows:"4"},null,512),[[I,w.value.desc]])]),M.value?(n(),s("p",na,v(M.value),1)):c("",!0),t("div",ra,[t("button",{onClick:ve,class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:ct,class:"btn btn-primary",disabled:D.value},v(D.value?"ä¿å­˜ä¸­...":"ä¿å­˜"),9,ia)])])])])])):c("",!0),W.value?(n(),s("div",{key:7,class:"modal-overlay",onClick:e[30]||(e[30]=a=>W.value=!1)},[t("div",{class:"modal-content",onClick:e[29]||(e[29]=F(()=>{},["stop"]))},[t("div",ua,[e[64]||(e[64]=t("h3",null,"æ·»åŠ è‡ªå®šä¹‰æœç´¢å¼•æ“",-1)),t("button",{onClick:e[24]||(e[24]=a=>W.value=!1),class:"close-btn"},e[63]||(e[63]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",da,[t("div",ca,[e[65]||(e[65]=t("label",null,"å›¾æ ‡ Emoji",-1)),b(t("input",{"onUpdate:modelValue":e[25]||(e[25]=a=>C.value.icon=a),type:"text",placeholder:"ğŸ” (å¯é€‰)",class:"batch-input",maxlength:"2"},null,512),[[I,C.value.icon]])]),t("div",va,[e[66]||(e[66]=t("label",null,"åç§°",-1)),b(t("input",{"onUpdate:modelValue":e[26]||(e[26]=a=>C.value.label=a),type:"text",placeholder:"ä¾‹å¦‚ï¼šWikipedia",class:"batch-input"},null,512),[[I,C.value.label]])]),t("div",pa,[e[67]||(e[67]=t("label",null,"æœç´¢åœ°å€",-1)),b(t("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>C.value.searchUrl=a),type:"url",placeholder:"ä¾‹å¦‚ï¼šhttps://zh.wikipedia.org/wiki/{query}",class:"batch-input"},null,512),[[I,C.value.searchUrl]]),e[68]||(e[68]=t("p",{style:{"font-size":"12px",color:"#666","margin-top":"5px"}},"æç¤ºï¼šä½¿ç”¨ {query} ä½œä¸ºæœç´¢å…³é”®è¯å ä½ç¬¦",-1))]),X.value?(n(),s("p",ha,v(X.value),1)):c("",!0),t("div",ba,[t("button",{onClick:e[28]||(e[28]=a=>W.value=!1),class:"btn btn-cancel"},"å–æ¶ˆ"),t("button",{onClick:je,class:"btn btn-primary"}," æ·»åŠ  ")])])])])):c("",!0),q(Z,{name:"toast"},{default:Y(()=>[me.value?(n(),s("div",fa,v(_e.value),1)):c("",!0)]),_:1})])}}},_a=Re(ma,[["__scopeId","data-v-fb1dbccd"]]);export{_a as default};
