var S=(b,g,c)=>new Promise((d,v)=>{var f=m=>{try{h(c.next(m))}catch(y){v(y)}},u=m=>{try{h(c.throw(m))}catch(y){v(y)}},h=m=>m.done?d(m.value):Promise.resolve(m.value).then(f,u);h((c=c.apply(b,g)).next())});import{_ as W,r as p,c as a,F as M,a as $,o as i,b as t,d as x,t as I,n as D,w as A,e as V,f as q,g as F,h as G,i as N,j as z,v as H,k as j,l as R,m as J}from"./index-C3gnqQUJ.js";import{g as K,a as O,b as P,c as U}from"./api-CnoDXQnA.js";const Q={class:"menu-bar"},X=["onMouseenter","onMouseleave"],Y=["onClick"],Z=["onClick"],ee={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(b){const g=p(null);function c(v){g.value=v}function d(v){setTimeout(()=>{g.value===v&&(g.value=null)},100)}return(v,f)=>(i(),a("nav",Q,[(i(!0),a(M,null,$(b.menus,u=>(i(),a("div",{key:u.id,class:"menu-item",onMouseenter:h=>c(u.id),onMouseleave:h=>d(u.id)},[t("button",{onClick:h=>v.$emit("select",u),class:D({active:u.id===b.activeId})},I(u.name),11,Y),u.subMenus&&u.subMenus.length>0?(i(),a("div",{key:0,class:D(["sub-menu",{show:g.value===u.id}])},[(i(!0),a(M,null,$(u.subMenus,h=>(i(),a("button",{key:h.id,onClick:m=>v.$emit("select",h,u),class:D([{active:h.id===b.activeSubMenuId},"sub-menu-item"])},I(h.name),11,Z))),128))],2)):x("",!0)],40,X))),128))]))}},te=W(ee,[["__scopeId","data-v-16a94230"]]),ne=["href","title"],oe=["src","onError"],se={class:"link-text"},le={__name:"CardGrid",props:{cards:Array},setup(b){const g=b,c=p(""),d=p("slideUp");A(()=>g.cards,(e,r)=>{e&&e.length>0&&(!r||r.length===0||JSON.stringify(e)!==JSON.stringify(r))&&q(()=>{v()})},{deep:!0,immediate:!1});function v(){const e=["slideUp","radial","fadeIn","slideLeft","slideRight","convergeIn","flipIn"],r=Math.floor(Math.random()*e.length);d.value=e[r],c.value=`animate-${d.value}`,setTimeout(()=>{c.value=""},1200)}function f(e){if(!c.value)return{};if(window.innerWidth<=480)return{animationDelay:"0s"};if(d.value==="slideUp")return{animationDelay:`${e*.05}s`};if(d.value==="radial"){const l=window.innerWidth<=768?3:window.innerWidth<=1200?4:6,w=Math.floor(e/l),_=e%l,L=Math.floor(l/2);return{animationDelay:`${(Math.abs(_-L)+w)*.08}s`}}else{if(d.value==="fadeIn")return{animationDelay:`${Math.random()*.5}s`};if(d.value==="slideLeft"){const l=window.innerWidth<=768?3:window.innerWidth<=1200?4:6;return{animationDelay:`${Math.floor(e/l)*.1}s`}}else if(d.value==="slideRight"){const l=window.innerWidth<=768?3:window.innerWidth<=1200?4:6,w=Math.floor(e/l),_=e%l;return{animationDelay:`${(w+(l-_-1)*.02)*.08}s`}}else if(d.value==="convergeIn"){const l=window.innerWidth<=768?3:window.innerWidth<=1200?4:6,w=e%l,_=Math.floor(l/2),L=Math.abs(w-_);return{animationDelay:`${(l-L-1)*.08}s`}}else if(d.value==="flipIn"){const l=window.innerWidth<=768?3:window.innerWidth<=1200?4:6,w=Math.floor(e/l),_=e%l;return{animationDelay:`${(w+_)*.06}s`}}}return{}}function u(e){if(e.custom_logo_path)return"http://localhost:3000/uploads/"+e.custom_logo_path;if(e.logo_url)return e.logo_url;try{return new URL(e.url).origin+"/favicon.ico"}catch(r){return"/default-favicon.png"}}function h(e,r){e.target.src="/default-favicon.png"}function m(e){let r="";return e.desc&&(r+=e.desc+`
`),r+=e.url,r}function y(e){return e?e.length>20?e.slice(0,20)+"...":e:""}return(e,r)=>(i(),a("div",{class:D(["container card-grid",c.value])},[(i(!0),a(M,null,$(b.cards,(l,w)=>(i(),a("div",{key:l.id,class:"link-item",style:V(f(w))},[t("a",{href:l.url,target:"_blank",title:m(l)},[t("img",{class:"link-icon",src:u(l),alt:"",onError:_=>h(_),loading:"lazy"},null,40,oe),t("span",se,I(y(l.title)),1)],8,ne)],4))),128))],2))}},ae=W(le,[["__scopeId","data-v-da4ab731"]]),ie={class:"home-container"},re={class:"menu-bar-fixed"},ce={class:"search-section"},ue={class:"search-box-wrapper"},de={class:"search-engine-select"},he=["onClick"],ve={class:"search-container"},fe=["placeholder"],me={key:0,class:"ad-space-fixed left-ad-fixed"},ge=["href"],pe=["src"],we={key:1,class:"ad-space-fixed right-ad-fixed"},_e=["href"],be=["src"],ke={class:"footer"},ye={class:"footer-content"},Ce={class:"modal-header"},Me={class:"modal-body"},$e={class:"friend-links-grid"},Ie=["href"],Le={class:"friend-link-logo"},Se=["src","alt"],xe={key:1,class:"friend-link-placeholder"},De={class:"friend-link-info"},Be={__name:"Home",setup(b){const g=p([]),c=p(null),d=p(null),v=p([]),f=p(""),u=p([]),h=p([]),m=p(!1),y=p([]),e=[{name:"google",label:"Google",placeholder:"Google 搜索...",url:s=>`https://www.google.com/search?q=${encodeURIComponent(s)}`},{name:"baidu",label:"百度",placeholder:"百度搜索...",url:s=>`https://www.baidu.com/s?wd=${encodeURIComponent(s)}`},{name:"bing",label:"Bing",placeholder:"Bing 搜索...",url:s=>`https://www.bing.com/search?q=${encodeURIComponent(s)}`},{name:"github",label:"github",placeholder:"GitHub 搜索...",url:s=>`https://github.com/search?q=${encodeURIComponent(s)}&type=repositories`},{name:"site",label:"站内",placeholder:"站内搜索...",url:s=>`/search?query=${encodeURIComponent(s)}`}],r=p(e[0]);function l(s){r.value=s}function w(){f.value=""}const _=F(()=>f.value?v.value.filter(s=>s.title.toLowerCase().includes(f.value.toLowerCase())||s.url.toLowerCase().includes(f.value.toLowerCase())):v.value);G(()=>S(null,null,function*(){const s=yield K();g.value=s.data,g.value.length&&(c.value=g.value[0],B());const n=yield O();u.value=n.data.filter(k=>k.position==="left"),h.value=n.data.filter(k=>k.position==="right");const C=yield P();y.value=C.data}));function L(s,n=null){return S(this,null,function*(){n?(c.value=n,d.value=s):(c.value=s,d.value=null),B()})}function B(){return S(this,null,function*(){var n;if(!c.value)return;const s=yield U(c.value.id,(n=d.value)==null?void 0:n.id);v.value=s.data})}function E(){return S(this,null,function*(){if(f.value.trim())if(r.value.name==="site"){let s=!1;for(const n of g.value){const C=yield U(n.id),k=C.data.find(o=>o.title.toLowerCase().includes(f.value.toLowerCase())||o.url.toLowerCase().includes(f.value.toLowerCase()));if(k){c.value=n,v.value=C.data,setTimeout(()=>{const o=document.querySelector(`[data-card-id='${k.id}']`);o&&o.scrollIntoView({behavior:"smooth",block:"center"})},100),s=!0;break}}s||alert("未找到相关内容")}else{const s=r.value.url(f.value);window.open(s,"_blank")}})}function T(s){s.target.style.display="none",s.target.nextElementSibling.style.display="flex"}return(s,n)=>{var C,k;return i(),a("div",ie,[t("div",re,[N(te,{menus:g.value,activeId:(C=c.value)==null?void 0:C.id,activeSubMenuId:(k=d.value)==null?void 0:k.id,onSelect:L},null,8,["menus","activeId","activeSubMenuId"])]),t("div",ce,[t("div",ue,[t("div",de,[(i(),a(M,null,$(e,o=>t("button",{key:o.name,class:D(["engine-btn",{active:r.value.name===o.name}]),onClick:We=>l(o)},I(o.label),11,he)),64))]),t("div",ve,[z(t("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>f.value=o),type:"text",placeholder:r.value.placeholder,class:"search-input",onKeyup:j(E,["enter"])},null,40,fe),[[H,f.value]]),f.value?(i(),a("button",{key:0,class:"clear-btn",onClick:w,"aria-label":"清空",title:"clear"},n[5]||(n[5]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):x("",!0),t("button",{onClick:E,class:"search-btn",title:"search"},n[6]||(n[6]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),u.value.length?(i(),a("div",me,[(i(!0),a(M,null,$(u.value,o=>(i(),a("a",{key:o.id,href:o.url,target:"_blank"},[t("img",{src:o.img,alt:"广告"},null,8,pe)],8,ge))),128))])):x("",!0),h.value.length?(i(),a("div",we,[(i(!0),a(M,null,$(h.value,o=>(i(),a("a",{key:o.id,href:o.url,target:"_blank"},[t("img",{src:o.img,alt:"广告"},null,8,be)],8,_e))),128))])):x("",!0),N(ae,{cards:_.value},null,8,["cards"]),t("footer",ke,[t("div",ye,[t("button",{onClick:n[1]||(n[1]=o=>m.value=!0),class:"friend-link-btn"},n[7]||(n[7]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),R(" 友情链接 ")])),n[8]||(n[8]=t("p",{class:"copyright"},[R("Copyright © 2025 Nav-Item | "),t("a",{href:"https://github.com/eooce/Nav-Item",target:"_blank",class:"footer-link"},"Powered by eooce")],-1))])]),m.value?(i(),a("div",{key:2,class:"modal-overlay",onClick:n[4]||(n[4]=o=>m.value=!1)},[t("div",{class:"modal-content",onClick:n[3]||(n[3]=J(()=>{},["stop"]))},[t("div",Ce,[n[10]||(n[10]=t("h3",null,"友情链接",-1)),t("button",{onClick:n[2]||(n[2]=o=>m.value=!1),class:"close-btn"},n[9]||(n[9]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Me,[t("div",$e,[(i(!0),a(M,null,$(y.value,o=>(i(),a("a",{key:o.id,href:o.url,target:"_blank",class:"friend-link-card"},[t("div",Le,[o.logo?(i(),a("img",{key:0,src:o.logo,alt:o.title,onError:T},null,40,Se)):(i(),a("div",xe,I(o.title.charAt(0)),1))]),t("div",De,[t("h4",null,I(o.title),1)])],8,Ie))),128))])])])])):x("",!0)])}}},Ue=W(Be,[["__scopeId","data-v-0c5afd5c"]]);export{Ue as default};
