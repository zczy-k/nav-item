const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardGrid-Lw01y9ul.js","assets/index-Bv9pmnpy.js","assets/CardGrid-D_iGXtTk.css"])))=>i.map(i=>d[i]);
var De=Object.defineProperty,Ne=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var ce=(b,c,u)=>c in b?De(b,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):b[c]=u,Q=(b,c)=>{for(var u in c||(c={}))ze.call(c,u)&&ce(b,u,c[u]);if(ue)for(var u of ue(c))Fe.call(c,u)&&ce(b,u,c[u]);return b},W=(b,c)=>Ne(b,Re(c));var k=(b,c,u)=>new Promise((m,f)=>{var M=w=>{try{g(u.next(w))}catch(E){f(E)}},d=w=>{try{g(u.throw(w))}catch(E){f(E)}},g=w=>w.done?m(w.value):Promise.resolve(w.value).then(M,d);g((u=u.apply(b,c)).next())});import{_ as ge,r as i,c as o,F as A,a as P,o as s,b as t,d as v,t as h,n as Y,e as ve,f as Te,g as qe,h as Oe,i as U,w as C,v as V,j as te,k as G,T as H,u as Je,l as je,m as X,p as he,q as pe,s as Ge,x as ae}from"./index-Bv9pmnpy.js";import{g as He,a as Ke,b as Qe,c as be,l as fe,d as We,e as Xe,f as Ye,h as Ze,i as et,u as tt}from"./api-MAxsCEmJ.js";const at={class:"menu-bar"},lt=["onMouseenter","onMouseleave"],ot=["onClick"],st=["onClick"],nt={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(b){const c=i(null);function u(f){c.value=f}function m(f){setTimeout(()=>{c.value===f&&(c.value=null)},100)}return(f,M)=>(s(),o("nav",at,[(s(!0),o(A,null,P(b.menus,d=>(s(),o("div",{key:d.id,class:"menu-item",onMouseenter:g=>u(d.id),onMouseleave:g=>m(d.id)},[t("button",{onClick:g=>f.$emit("select",d),class:Y({active:d.id===b.activeId})},h(d.name),11,ot),d.subMenus&&d.subMenus.length>0?(s(),o("div",{key:0,class:Y(["sub-menu",{show:c.value===d.id}])},[(s(!0),o(A,null,P(d.subMenus,g=>(s(),o("button",{key:g.id,onClick:w=>f.$emit("select",g,d),class:Y([{active:g.id===b.activeSubMenuId},"sub-menu-item"])},h(g.name),11,st))),128))],2)):v("",!0)],40,lt))),128))]))}},rt=ge(nt,[["__scopeId","data-v-16a94230"]]),it={class:"home-container"},dt={class:"menu-bar-fixed"},ut={class:"search-section"},ct={class:"search-box-wrapper"},vt={class:"search-engine-select"},ht=["onClick"],pt={class:"search-container"},bt=["placeholder"],ft={key:0,class:"ad-space-fixed left-ad-fixed"},gt=["href"],mt=["src"],kt={key:1,class:"ad-space-fixed right-ad-fixed"},yt=["href"],wt=["src"],_t={key:0,class:"edit-toolbar"},Ct={class:"edit-toolbar-content"},Mt={class:"edit-info"},xt={key:0,class:"changes-count"},St={class:"edit-actions"},It=["disabled"],$t=["disabled"],Bt=["disabled"],Et={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Lt={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ut={key:"plus",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},Vt={key:"close",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},At={class:"modal-header"},Pt={class:"modal-body"},Dt={key:0,class:"batch-step"},Nt={class:"remember-password-wrapper"},Rt={key:0,class:"batch-error"},zt={class:"batch-actions"},Ft=["disabled"],Tt={key:1,class:"batch-step"},qt={key:0,class:"batch-error"},Ot={class:"batch-actions"},Jt=["disabled"],jt={key:2,class:"batch-step"},Gt={class:"batch-preview-list"},Ht=["onUpdate:modelValue","id"],Kt={class:"batch-card-preview"},Qt=["src","alt"],Wt={class:"batch-card-info"},Xt={class:"batch-edit-field"},Yt=["onUpdate:modelValue"],Zt={class:"batch-edit-field"},ea=["onUpdate:modelValue"],ta={class:"batch-edit-field"},aa=["onUpdate:modelValue"],la={class:"batch-card-url"},oa={key:0,class:"batch-card-warning"},sa={key:0,class:"batch-error"},na={class:"batch-actions"},ra=["disabled"],ia={class:"footer"},da={class:"footer-content"},ua={class:"modal-header"},ca={class:"modal-body"},va={key:0,class:"batch-error"},ha={class:"batch-actions",style:{"margin-top":"20px"}},pa=["disabled"],ba={class:"modal-header"},fa={class:"modal-body"},ga={class:"friend-links-grid"},ma=["href"],ka={class:"friend-link-logo"},ya=["src","alt"],wa={key:1,class:"friend-link-placeholder"},_a={class:"friend-link-info"},Ca={__name:"Home",setup(b){const c=je(()=>Ge(()=>import("./CardGrid-Lw01y9ul.js"),__vite__mapDeps([0,1,2]))),u=i([]),m=i(null),f=i(null),M=i([]),d=i(""),g=i([]),w=i([]),E=i(!1),le=i([]),Z=i(!1),_=i(1),I=i(""),T=i(""),y=i(!1),p=i(""),q=i([]),D=i(!1),N=i(!1),O=i(""),R=i(!1),oe=i([]),$=i([]),S=i(!1),z=i(""),L=i(!1);function me(){L.value=!L.value}function se(){L.value&&(L.value=!1)}const J=i(!1),ne=ve(()=>q.value.filter(a=>a.selected).length),ee=[{name:"google",label:"Google",placeholder:"Google 搜索...",url:a=>`https://www.google.com/search?q=${encodeURIComponent(a)}`},{name:"baidu",label:"百度",placeholder:"百度搜索...",url:a=>`https://www.baidu.com/s?wd=${encodeURIComponent(a)}`},{name:"bing",label:"Bing",placeholder:"Bing 搜索...",url:a=>`https://www.bing.com/search?q=${encodeURIComponent(a)}`},{name:"github",label:"github",placeholder:"GitHub 搜索...",url:a=>`https://github.com/search?q=${encodeURIComponent(a)}&type=repositories`},{name:"site",label:"站内",placeholder:"站内搜索...",url:a=>`/search?query=${encodeURIComponent(a)}`}],j=i((()=>{try{const a=localStorage.getItem("default_search_engine");if(a){const e=ee.find(n=>n.name===a);if(e)return e}}catch(a){console.error("Failed to load default search engine:",a)}return ee[0]})());function ke(a){j.value=a;try{localStorage.setItem("default_search_engine",a.name)}catch(e){console.error("Failed to save default search engine:",e)}}function ye(){d.value=""}const we=ve(()=>d.value?M.value.filter(a=>a.title.toLowerCase().includes(d.value.toLowerCase())||a.url.toLowerCase().includes(d.value.toLowerCase())):M.value);Te(()=>{const a=localStorage.getItem("nav_background");a&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".home-container");e&&(e.style.backgroundImage=`url(${a})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment="fixed")})}),qe(()=>k(null,null,function*(){const a=yield He();u.value=a.data,u.value.length&&(m.value=u.value[0],F());const e=yield Ke();g.value=e.data.filter(l=>l.position==="left"),w.value=e.data.filter(l=>l.position==="right");const n=yield Qe();le.value=n.data;const r=localStorage.getItem("nav_background");if(r){const l=document.querySelector(".home-container");l&&!l.style.backgroundImage.includes(r)&&(l.style.backgroundImage=`url(${r})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat",l.style.backgroundAttachment="fixed")}xe(),document.addEventListener("click",se)})),Oe(()=>{document.removeEventListener("click",se)});function _e(a,e=null){return k(this,null,function*(){e?(m.value=e,f.value=a):(m.value=a,f.value=null),F()})}function F(){return k(this,null,function*(){var e;if(!m.value)return;const a=yield be(m.value.id,(e=f.value)==null?void 0:e.id);M.value=a.data})}function re(){return k(this,null,function*(){if(d.value.trim())if(j.value.name==="site"){let a=!1;for(const e of u.value){const n=yield be(e.id),r=n.data.find(l=>l.title.toLowerCase().includes(d.value.toLowerCase())||l.url.toLowerCase().includes(d.value.toLowerCase()));if(r){m.value=e,M.value=n.data,setTimeout(()=>{const l=document.querySelector(`[data-card-id='${r.id}']`);l&&l.scrollIntoView({behavior:"smooth",block:"center"})},100),a=!0;break}}a||alert("未找到相关内容")}else{const a=j.value.url(d.value);window.open(a,"_blank")}})}function Ce(a){a.target.style.display="none",a.target.nextElementSibling.style.display="flex"}function Me(){return k(this,null,function*(){Z.value=!0,p.value="";const a=localStorage.getItem("nav_password_token");if(a)try{const{password:e,expiry:n,token:r}=JSON.parse(a);if(Date.now()<n&&r){localStorage.setItem("token",r),I.value=e,D.value=!0,_.value=2;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}_.value=1})}function K(){Z.value=!1,_.value=1,I.value="",T.value="",p.value="",q.value=[],y.value=!1}function xe(){const a=localStorage.getItem("nav_password_token");if(a)try{const{password:e,expiry:n,token:r}=JSON.parse(a);Date.now()<n?(I.value=e,D.value=!0,r&&localStorage.setItem("token",r)):localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}}function ie(){return k(this,null,function*(){if(!I.value){p.value="请输入密码";return}y.value=!0,p.value="";try{const a=yield fe("admin",I.value);if(a.data&&a.data.token)localStorage.setItem("token",a.data.token);else throw new Error("登录成功，但未收到 token");if(D.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:I.value,token:a.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");_.value=2}catch(a){p.value="密码错误，请重试",console.error("密码验证失败:",a)}finally{y.value=!1}})}function Se(){localStorage.removeItem("nav_password_token"),localStorage.removeItem("token"),I.value="",D.value=!1,_.value=1}function Ie(){return k(this,null,function*(){var e,n;const a=T.value.split(`
`).map(r=>r.trim()).filter(r=>r.length>0);if(a.length===0){p.value="请输入至少一个网址";return}y.value=!0,p.value="";try{const r=yield We(a);q.value=r.data.data.map(l=>W(Q({},l),{selected:!0})),_.value=3}catch(r){p.value=((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.error)||"解析失败，请重试"}finally{y.value=!1}})}function $e(){return k(this,null,function*(){var e,n,r;const a=q.value.filter(l=>l.selected);if(a.length===0){p.value="请至少选择一个网站";return}y.value=!0,p.value="";try{const l=a.map(x=>({title:x.title,url:x.url,logo:x.logo,description:x.description}));yield Xe(m.value.id,((e=f.value)==null?void 0:e.id)||null,l),alert(`成功添加 ${a.length} 个网站！`),K(),yield F()}catch(l){p.value=((r=(n=l.response)==null?void 0:n.data)==null?void 0:r.error)||"添加失败，请重试"}finally{y.value=!1}})}function Be(){return k(this,null,function*(){if(!J.value){J.value=!0;try{const e=(yield Ze()).data.url;let n=document.getElementById("dynamic-bg-style");n||(n=document.createElement("style"),n.id="dynamic-bg-style",document.head.appendChild(n)),n.textContent=`.home-container { background-image: url(${e}) !important; }`,localStorage.setItem("nav_background",e)}catch(a){console.error("获取壁纸失败:",a),alert("获取壁纸失败，请稍后重试")}finally{J.value=!1}}})}function Ee(){R.value=!0,O.value="",z.value=""}function de(){return k(this,null,function*(){if(!O.value){z.value="请输入密码";return}S.value=!0,z.value="";try{const a=yield fe("admin",O.value);localStorage.setItem("token",a.data.token),oe.value=JSON.parse(JSON.stringify(M.value)),N.value=!0,R.value=!1,S.value=!1}catch(a){z.value="密码错误",S.value=!1}})}function Le(a){M.value=a.map((e,n)=>W(Q({},e),{order:n})),$.value=M.value.map((e,n)=>{var r;return{id:e.id,order:n,menu_id:e.menu_id||m.value.id,sub_menu_id:e.sub_menu_id||((r=f.value)==null?void 0:r.id)||null}})}function Ue(){return k(this,null,function*(){var a,e;if($.value.length===0){alert("没有需要保存的更改");return}S.value=!0;try{yield Ye($.value),alert("保存成功"),N.value=!1,$.value=[],yield F()}catch(n){alert("保存失败："+(((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.error)||n.message))}finally{S.value=!1}})}function Ve(){$.value.length>0&&!confirm("有未保存的更改，确定要取消吗？")||(M.value=oe.value,N.value=!1,$.value=[])}function Ae(a){return k(this,null,function*(){var e,n;if(confirm(`确定要删除「${a.title}」吗？`))try{yield et(a.id),alert("删除成功"),yield F()}catch(r){alert("删除失败："+(((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.error)||r.message))}})}function Pe(a){return k(this,null,function*(){var r,l;const e=prompt("修改标题：",a.title);if(!e)return;const n=prompt("修改链接：",a.url);if(n)try{yield tt(a.id,W(Q({},a),{title:e,url:n})),alert("修改成功"),yield F()}catch(x){alert("修改失败："+(((l=(r=x.response)==null?void 0:r.data)==null?void 0:l.error)||x.message))}})}return(a,e)=>{var n,r;return s(),o("div",it,[t("div",dt,[U(rt,{menus:u.value,activeId:(n=m.value)==null?void 0:n.id,activeSubMenuId:(r=f.value)==null?void 0:r.id,onSelect:_e},null,8,["menus","activeId","activeSubMenuId"])]),t("div",ut,[t("div",ct,[t("div",vt,[(s(),o(A,null,P(ee,l=>t("button",{key:l.name,class:Y(["engine-btn",{active:j.value.name===l.name}]),onClick:x=>ke(l)},h(l.label),11,ht)),64))]),t("div",pt,[C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),type:"text",placeholder:j.value.placeholder,class:"search-input",onKeyup:te(re,["enter"])},null,40,bt),[[V,d.value]]),d.value?(s(),o("button",{key:0,class:"clear-btn",onClick:ye,"aria-label":"清空",title:"clear"},e[17]||(e[17]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):v("",!0),t("button",{onClick:re,class:"search-btn",title:"search"},e[18]||(e[18]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),g.value.length?(s(),o("div",ft,[(s(!0),o(A,null,P(g.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank"},[t("img",{src:l.img,alt:"广告",loading:"lazy"},null,8,mt)],8,gt))),128))])):v("",!0),w.value.length?(s(),o("div",kt,[(s(!0),o(A,null,P(w.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank"},[t("img",{src:l.img,alt:"广告",loading:"lazy"},null,8,wt)],8,yt))),128))])):v("",!0),U(H,{name:"fade"},{default:G(()=>[N.value?(s(),o("div",_t,[t("div",Ct,[t("div",Mt,[e[19]||(e[19]=t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})],-1)),e[20]||(e[20]=t("span",null,"编辑模式：拖拽卡片可调整顺序",-1)),$.value.length>0?(s(),o("span",xt," ("+h($.value.length)+" 项更改) ",1)):v("",!0)]),t("div",St,[t("button",{onClick:Ve,class:"btn btn-cancel",disabled:S.value}," 取消 ",8,It),t("button",{onClick:Ue,class:"btn btn-primary",disabled:S.value||$.value.length===0},h(S.value?"保存中...":"保存"),9,$t)])])])):v("",!0)]),_:1}),U(Je(c),{cards:we.value,editMode:N.value,onCardsReordered:Le,onEditCard:Pe,onDeleteCard:Ae},null,8,["cards","editMode"]),t("div",{class:"fab-container",onClick:e[1]||(e[1]=X(()=>{},["stop"]))},[U(H,{name:"fab-item"},{default:G(()=>[C(t("button",{onClick:Be,class:"change-bg-btn",title:"切换背景",disabled:J.value},[J.value?(s(),o("svg",Lt,e[22]||(e[22]=[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"},null,-1)]))):(s(),o("svg",Et,e[21]||(e[21]=[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),t("path",{d:"M21 15l-5-5L5 21"},null,-1)])))],8,Bt),[[ae,L.value]])]),_:1}),U(H,{name:"fab-item"},{default:G(()=>[m.value?C((s(),o("button",{key:0,onClick:Me,class:"batch-add-btn",title:"批量添加网站"},e[23]||(e[23]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)]),512)),[[ae,L.value]]):v("",!0)]),_:1}),U(H,{name:"fab-item"},{default:G(()=>[N.value?v("",!0):C((s(),o("button",{key:0,onClick:Ee,class:"edit-mode-btn",title:"编辑模式"},e[24]||(e[24]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),512)),[[ae,L.value]])]),_:1}),t("button",{onClick:me,class:"fab-toggle-btn",title:"更多功能"},[U(H,{name:"fab-icon",mode:"out-in"},{default:G(()=>[L.value?(s(),o("svg",Vt,e[26]||(e[26]=[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),t("line",{x1:"6",y1:"6",x2:"18",y2:"12"},null,-1)]))):(s(),o("svg",Ut,e[25]||(e[25]=[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))]),_:1})])]),Z.value?(s(),o("div",{key:2,class:"modal-overlay",onClick:K},[t("div",{class:"modal-content batch-modal",onClick:e[7]||(e[7]=X(()=>{},["stop"]))},[t("div",At,[t("h3",null,h(_.value===1?"验证密码":_.value===2?"输入网址":"预览并选择"),1),t("button",{onClick:K,class:"close-btn"},e[27]||(e[27]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Pt,[_.value===1?(s(),o("div",Dt,[e[29]||(e[29]=t("p",{class:"batch-tip"},"请输入管理员密码以继续：",-1)),C(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>I.value=l),type:"password",placeholder:"请输入管理员密码",class:"batch-input",onKeyup:te(ie,["enter"])},null,544),[[V,I.value]]),t("div",Nt,[t("label",null,[C(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=l=>D.value=l)},null,512),[[he,D.value]]),e[28]||(e[28]=t("span",null,"记住密码（2小时）",-1))])]),p.value?(s(),o("p",Rt,h(p.value),1)):v("",!0),t("div",zt,[t("button",{onClick:K,class:"btn btn-cancel"},"取消"),t("button",{onClick:ie,class:"btn btn-primary",disabled:y.value},h(y.value?"验证中...":"确认"),9,Ft)])])):v("",!0),_.value===2?(s(),o("div",Tt,[e[30]||(e[30]=t("p",{class:"batch-tip"},"请输入需要添加的网址，每行一个：",-1)),C(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>T.value=l),placeholder:`例如：
https://github.com
https://google.com
https://stackoverflow.com`,class:"batch-textarea",rows:"10"},null,512),[[V,T.value]]),p.value?(s(),o("p",qt,h(p.value),1)):v("",!0),t("div",Ot,[t("button",{onClick:Se,class:"btn btn-cancel"},"上一步"),t("button",{onClick:Ie,class:"btn btn-primary",disabled:y.value||!T.value.trim()},h(y.value?"解析中...":"下一步"),9,Jt)])])):v("",!0),_.value===3?(s(),o("div",jt,[e[34]||(e[34]=t("p",{class:"batch-tip"},"请选择需要添加的网站：",-1)),t("div",Gt,[(s(!0),o(A,null,P(q.value,(l,x)=>(s(),o("div",{key:x,class:"batch-preview-item"},[C(t("input",{type:"checkbox","onUpdate:modelValue":B=>l.selected=B,id:`card-${x}`},null,8,Ht),[[he,l.selected]]),t("div",Kt,[t("img",{src:l.logo,alt:l.title,class:"batch-card-logo",onError:e[5]||(e[5]=B=>B.target.src="/default-favicon.png")},null,40,Qt),t("div",Wt,[t("div",Xt,[e[31]||(e[31]=t("label",null,"标题：",-1)),C(t("input",{type:"text","onUpdate:modelValue":B=>l.title=B,class:"batch-edit-input"},null,8,Yt),[[V,l.title]])]),t("div",Zt,[e[32]||(e[32]=t("label",null,"Logo：",-1)),C(t("input",{type:"text","onUpdate:modelValue":B=>l.logo=B,class:"batch-edit-input"},null,8,ea),[[V,l.logo]])]),t("div",ta,[e[33]||(e[33]=t("label",null,"描述：",-1)),C(t("textarea",{"onUpdate:modelValue":B=>l.description=B,class:"batch-edit-textarea",rows:"2"},null,8,aa),[[V,l.description]])]),t("p",la,h(l.url),1),l.success?v("",!0):(s(),o("p",oa,"⚠️ "+h(l.error),1))])])]))),128))]),p.value?(s(),o("p",sa,h(p.value),1)):v("",!0),t("div",na,[t("button",{onClick:e[6]||(e[6]=l=>_.value=2),class:"btn btn-cancel"},"上一步"),t("button",{onClick:$e,class:"btn btn-primary",disabled:y.value||ne.value===0},h(y.value?"添加中...":`添加 (${ne.value})`),9,ra)])])):v("",!0)])])])):v("",!0),t("footer",ia,[t("div",da,[t("button",{onClick:e[8]||(e[8]=l=>E.value=!0),class:"friend-link-btn"},e[35]||(e[35]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),pe(" 友情链接 ")])),e[36]||(e[36]=t("p",{class:"copyright"},[pe("Copyright © 2025 Nav-Item | "),t("a",{href:"https://github.com/zczy-k/nav-item",target:"_blank",class:"footer-link"},"Powered by zczy-k")],-1))])]),R.value?(s(),o("div",{key:3,class:"modal-overlay",onClick:e[13]||(e[13]=l=>R.value=!1)},[t("div",{class:"modal-content",onClick:e[12]||(e[12]=X(()=>{},["stop"]))},[t("div",ua,[e[38]||(e[38]=t("h3",null,"进入编辑模式",-1)),t("button",{onClick:e[9]||(e[9]=l=>R.value=!1),class:"close-btn"},e[37]||(e[37]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",ca,[e[39]||(e[39]=t("p",{style:{"margin-bottom":"15px"}},"请输入管理员密码以继续：",-1)),C(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>O.value=l),type:"password",placeholder:"请输入管理员密码",class:"batch-input",onKeyup:te(de,["enter"]),style:{width:"100%"}},null,544),[[V,O.value]]),z.value?(s(),o("p",va,h(z.value),1)):v("",!0),t("div",ha,[t("button",{onClick:e[11]||(e[11]=l=>R.value=!1),class:"btn btn-cancel"},"取消"),t("button",{onClick:de,class:"btn btn-primary",disabled:S.value},h(S.value?"验证中...":"确认"),9,pa)])])])])):v("",!0),E.value?(s(),o("div",{key:4,class:"modal-overlay",onClick:e[16]||(e[16]=l=>E.value=!1)},[t("div",{class:"modal-content",onClick:e[15]||(e[15]=X(()=>{},["stop"]))},[t("div",ba,[e[41]||(e[41]=t("h3",null,"友情链接",-1)),t("button",{onClick:e[14]||(e[14]=l=>E.value=!1),class:"close-btn"},e[40]||(e[40]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",fa,[t("div",ga,[(s(!0),o(A,null,P(le.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank",class:"friend-link-card"},[t("div",ka,[l.logo?(s(),o("img",{key:0,src:l.logo,alt:l.title,loading:"lazy",onError:Ce},null,40,ya)):(s(),o("div",wa,h(l.title.charAt(0)),1))]),t("div",_a,[t("h4",null,h(l.title),1)])],8,ma))),128))])])])])):v("",!0)])}}},$a=ge(Ca,[["__scopeId","data-v-d5d09b60"]]);export{$a as default};
