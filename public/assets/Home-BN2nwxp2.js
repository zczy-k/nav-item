const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardGrid-lQp7yZZf.js","assets/index-BYgEoIVW.js","assets/CardGrid-D_iGXtTk.css"])))=>i.map(i=>d[i]);
var ze=Object.defineProperty,Ne=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var he=(g,c,u)=>c in g?ze(g,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[c]=u,Y=(g,c)=>{for(var u in c||(c={}))Te.call(c,u)&&he(g,u,c[u]);if(ve)for(var u of ve(c))qe.call(c,u)&&he(g,u,c[u]);return g},Z=(g,c)=>Ne(g,Fe(c));var _=(g,c,u)=>new Promise((y,m)=>{var E=M=>{try{k(u.next(M))}catch(V){m(V)}},d=M=>{try{k(u.throw(M))}catch(V){m(V)}},k=M=>M.done?y(M.value):Promise.resolve(M.value).then(E,d);k((u=u.apply(g,c)).next())});import{_ as ke,r as i,c as o,F as P,a as D,o as s,b as t,d as v,t as h,n as te,e as pe,f as Oe,g as je,h as Ge,i as A,w as b,v as $,j as se,u as He,k as Ke,l as H,T as K,m as J,p as be,q as ge,s as Je,x as ee}from"./index-BYgEoIVW.js";import{g as Qe,a as We,b as Xe,c as me,l as fe,d as Ye,e as Ze,u as et,f as tt,h as lt,i as at}from"./api-BbZSgGBc.js";const ot={class:"menu-bar"},st=["onMouseenter","onMouseleave"],nt=["onClick"],rt=["onClick"],it={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(g){const c=i(null);function u(m){c.value=m}function y(m){setTimeout(()=>{c.value===m&&(c.value=null)},100)}return(m,E)=>(s(),o("nav",ot,[(s(!0),o(P,null,D(g.menus,d=>(s(),o("div",{key:d.id,class:"menu-item",onMouseenter:k=>u(d.id),onMouseleave:k=>y(d.id)},[t("button",{onClick:k=>m.$emit("select",d),class:te({active:d.id===g.activeId})},h(d.name),11,nt),d.subMenus&&d.subMenus.length>0?(s(),o("div",{key:0,class:te(["sub-menu",{show:c.value===d.id}])},[(s(!0),o(P,null,D(d.subMenus,k=>(s(),o("button",{key:k.id,onClick:M=>m.$emit("select",k,d),class:te([{active:k.id===g.activeSubMenuId},"sub-menu-item"])},h(k.name),11,rt))),128))],2)):v("",!0)],40,st))),128))]))}},dt=ke(it,[["__scopeId","data-v-16a94230"]]),ut={class:"home-container"},ct={class:"menu-bar-fixed"},vt={class:"search-section"},ht={class:"search-box-wrapper"},pt={class:"search-engine-select"},bt=["onClick"],gt={class:"search-container"},mt=["placeholder"],ft={key:0,class:"ad-space-fixed left-ad-fixed"},kt=["href"],yt=["src"],wt={key:1,class:"ad-space-fixed right-ad-fixed"},_t=["href"],Ct=["src"],Mt=["disabled"],xt={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},St={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},It={key:"plus",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},$t={key:"close",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},Et={class:"modal-header"},Lt={class:"modal-body"},Bt={key:0,class:"batch-step"},Ut={class:"remember-password-wrapper"},Vt={key:0,class:"batch-error"},At={class:"batch-actions"},Pt=["disabled"],Dt={key:1,class:"batch-step"},Rt={key:0,class:"batch-error"},zt={class:"batch-actions"},Nt=["disabled"],Ft={key:2,class:"batch-step"},Tt={class:"batch-preview-list"},qt=["onUpdate:modelValue","id"],Ot={class:"batch-card-preview"},jt=["src","alt"],Gt={class:"batch-card-info"},Ht={class:"batch-edit-field"},Kt=["onUpdate:modelValue"],Jt={class:"batch-edit-field"},Qt=["onUpdate:modelValue"],Wt={class:"batch-edit-field"},Xt=["onUpdate:modelValue"],Yt={class:"batch-card-url"},Zt={key:0,class:"batch-card-warning"},el={key:0,class:"batch-error"},tl={class:"batch-actions"},ll=["disabled"],al={class:"footer"},ol={class:"footer-content"},sl={class:"modal-header"},nl={class:"modal-body"},rl={key:0,class:"batch-error"},il={class:"batch-actions",style:{"margin-top":"20px"}},dl=["disabled"],ul={class:"modal-header"},cl={class:"modal-body"},vl={class:"friend-links-grid"},hl=["href"],pl={class:"friend-link-logo"},bl=["src","alt"],gl={key:1,class:"friend-link-placeholder"},ml={class:"friend-link-info"},fl={class:"modal-body"},kl={class:"edit-card-form"},yl={class:"form-group"},wl={class:"form-group"},_l={class:"form-group"},Cl={class:"form-group"},Ml={key:0,class:"batch-error"},xl={class:"batch-actions",style:{"margin-top":"20px"}},Sl=["disabled"],Il={__name:"Home",setup(g){const c=Ke(()=>Je(()=>import("./CardGrid-lQp7yZZf.js"),__vite__mapDeps([0,1,2]))),u=i([]),y=i(null),m=i(null),E=i([]),d=i(""),k=i([]),M=i([]),V=i(!1),ne=i([]),le=i(!1),x=i(1),L=i(""),F=i(""),C=i(!1),p=i(""),T=i([]),R=i(!1),q=i(!1),O=i(""),z=i(!1),B=i(!1),w=i(""),ae=i(!1),Q=i(null),f=i({title:"",url:"",logo_url:"",desc:""}),U=i(!1);function ye(){U.value=!U.value}function re(){U.value&&(U.value=!1)}const j=i(!1),ie=pe(()=>T.value.filter(a=>a.selected).length),oe=[{name:"google",label:"Google",placeholder:"Google 搜索...",url:a=>`https://www.google.com/search?q=${encodeURIComponent(a)}`},{name:"baidu",label:"百度",placeholder:"百度搜索...",url:a=>`https://www.baidu.com/s?wd=${encodeURIComponent(a)}`},{name:"bing",label:"Bing",placeholder:"Bing 搜索...",url:a=>`https://www.bing.com/search?q=${encodeURIComponent(a)}`},{name:"github",label:"github",placeholder:"GitHub 搜索...",url:a=>`https://github.com/search?q=${encodeURIComponent(a)}&type=repositories`},{name:"site",label:"站内",placeholder:"站内搜索...",url:a=>`/search?query=${encodeURIComponent(a)}`}],G=i((()=>{try{const a=localStorage.getItem("default_search_engine");if(a){const e=oe.find(n=>n.name===a);if(e)return e}}catch(a){console.error("Failed to load default search engine:",a)}return oe[0]})());function we(a){G.value=a;try{localStorage.setItem("default_search_engine",a.name)}catch(e){console.error("Failed to save default search engine:",e)}}function _e(){d.value=""}const Ce=pe(()=>d.value?E.value.filter(a=>a.title.toLowerCase().includes(d.value.toLowerCase())||a.url.toLowerCase().includes(d.value.toLowerCase())):E.value);Oe(()=>{const a=localStorage.getItem("nav_background");a&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".home-container");e&&(e.style.backgroundImage=`url(${a})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment="fixed")})}),je(()=>_(null,null,function*(){const a=yield Qe();u.value=a.data,u.value.length&&(y.value=u.value[0],N());const e=yield We();k.value=e.data.filter(l=>l.position==="left"),M.value=e.data.filter(l=>l.position==="right");const n=yield Xe();ne.value=n.data;const r=localStorage.getItem("nav_background");if(r){const l=document.querySelector(".home-container");l&&!l.style.backgroundImage.includes(r)&&(l.style.backgroundImage=`url(${r})`,l.style.backgroundSize="cover",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat",l.style.backgroundAttachment="fixed")}Ie(),document.addEventListener("click",re)})),Ge(()=>{document.removeEventListener("click",re)});function Me(a,e=null){return _(this,null,function*(){e?(y.value=e,m.value=a):(y.value=a,m.value=null),N()})}function N(){return _(this,null,function*(){var e;if(!y.value)return;const a=yield me(y.value.id,(e=m.value)==null?void 0:e.id);E.value=a.data})}function de(){return _(this,null,function*(){if(d.value.trim())if(G.value.name==="site"){let a=!1;for(const e of u.value){const n=yield me(e.id),r=n.data.find(l=>l.title.toLowerCase().includes(d.value.toLowerCase())||l.url.toLowerCase().includes(d.value.toLowerCase()));if(r){y.value=e,E.value=n.data,setTimeout(()=>{const l=document.querySelector(`[data-card-id='${r.id}']`);l&&l.scrollIntoView({behavior:"smooth",block:"center"})},100),a=!0;break}}a||alert("未找到相关内容")}else{const a=G.value.url(d.value);window.open(a,"_blank")}})}function xe(a){a.target.style.display="none",a.target.nextElementSibling.style.display="flex"}function Se(){return _(this,null,function*(){le.value=!0,p.value="";const a=localStorage.getItem("nav_password_token");if(a)try{const{password:e,expiry:n,token:r}=JSON.parse(a);if(Date.now()<n&&r){localStorage.setItem("token",r),L.value=e,R.value=!0,x.value=2;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}x.value=1})}function W(){le.value=!1,x.value=1,L.value="",F.value="",p.value="",T.value=[],C.value=!1}function Ie(){const a=localStorage.getItem("nav_password_token");if(a)try{const{password:e,expiry:n,token:r}=JSON.parse(a);Date.now()<n?(L.value=e,R.value=!0,r&&localStorage.setItem("token",r)):localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}}function ue(){return _(this,null,function*(){if(!L.value){p.value="请输入密码";return}C.value=!0,p.value="";try{const a=yield fe("admin",L.value);if(a.data&&a.data.token)localStorage.setItem("token",a.data.token);else throw new Error("登录成功，但未收到 token");if(R.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:L.value,token:a.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");x.value=2}catch(a){p.value="密码错误，请重试",console.error("密码验证失败:",a)}finally{C.value=!1}})}function $e(){localStorage.removeItem("nav_password_token"),localStorage.removeItem("token"),L.value="",R.value=!1,x.value=1}function Ee(){return _(this,null,function*(){var e,n;const a=F.value.split(`
`).map(r=>r.trim()).filter(r=>r.length>0);if(a.length===0){p.value="请输入至少一个网址";return}C.value=!0,p.value="";try{const r=yield Ye(a);T.value=r.data.data.map(l=>Z(Y({},l),{selected:!0})),x.value=3}catch(r){p.value=((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.error)||"解析失败，请重试"}finally{C.value=!1}})}function Le(){return _(this,null,function*(){var e,n,r;const a=T.value.filter(l=>l.selected);if(a.length===0){p.value="请至少选择一个网站";return}C.value=!0,p.value="";try{const l=a.map(S=>({title:S.title,url:S.url,logo:S.logo,description:S.description}));yield Ze(y.value.id,((e=m.value)==null?void 0:e.id)||null,l),alert(`成功添加 ${a.length} 个网站！`),W(),yield N()}catch(l){p.value=((r=(n=l.response)==null?void 0:n.data)==null?void 0:r.error)||"添加失败，请重试"}finally{C.value=!1}})}function Be(){return _(this,null,function*(){if(!j.value){j.value=!0;try{const e=(yield tt()).data.url;let n=document.getElementById("dynamic-bg-style");n||(n=document.createElement("style"),n.id="dynamic-bg-style",document.head.appendChild(n)),n.textContent=`.home-container { background-image: url(${e}) !important; }`,localStorage.setItem("nav_background",e)}catch(a){console.error("获取壁纸失败:",a),alert("获取壁纸失败，请稍后重试")}finally{j.value=!1}}})}function Ue(){z.value=!0,O.value="",w.value=""}function ce(){return _(this,null,function*(){if(!O.value){w.value="请输入密码";return}B.value=!0,w.value="";try{const a=yield fe("admin",O.value);localStorage.setItem("token",a.data.token),q.value=!0,z.value=!1,B.value=!1}catch(a){w.value="密码错误",B.value=!1}})}function Ve(){q.value=!1}function Ae(a){return _(this,null,function*(){var n,r;E.value=a.map((l,S)=>Z(Y({},l),{order:S}));const e=E.value.map((l,S)=>{var I;return{id:l.id,order:S,menu_id:l.menu_id||y.value.id,sub_menu_id:l.sub_menu_id||((I=m.value)==null?void 0:I.id)||null}});try{yield at(e)}catch(l){alert("保存失败："+(((r=(n=l.response)==null?void 0:n.data)==null?void 0:r.error)||l.message)),yield N()}})}function Pe(a){return _(this,null,function*(){var e,n;if(confirm(`确定要删除「${a.title}」吗？`))try{yield lt(a.id),alert("删除成功"),yield N()}catch(r){alert("删除失败："+(((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.error)||r.message))}})}function De(a){Q.value=a,f.value={title:a.title||"",url:a.url||"",logo_url:a.logo_url||"",desc:a.desc||""},w.value="",ae.value=!0}function X(){ae.value=!1,Q.value=null,f.value={title:"",url:"",logo_url:"",desc:""},w.value=""}function Re(){return _(this,null,function*(){var a,e;if(!f.value.title.trim()){w.value="请输入标题";return}if(!f.value.url.trim()){w.value="请输入网址";return}B.value=!0,w.value="";try{yield et(Q.value.id,Z(Y({},Q.value),{title:f.value.title,url:f.value.url,logo_url:f.value.logo_url,desc:f.value.desc})),alert("修改成功"),X(),yield N()}catch(n){w.value="修改失败："+(((e=(a=n.response)==null?void 0:a.data)==null?void 0:e.error)||n.message)}finally{B.value=!1}})}return(a,e)=>{var n,r;return s(),o("div",ut,[t("div",ct,[A(dt,{menus:u.value,activeId:(n=y.value)==null?void 0:n.id,activeSubMenuId:(r=m.value)==null?void 0:r.id,onSelect:Me},null,8,["menus","activeId","activeSubMenuId"])]),t("div",vt,[t("div",ht,[t("div",pt,[(s(),o(P,null,D(oe,l=>t("button",{key:l.name,class:te(["engine-btn",{active:G.value.name===l.name}]),onClick:S=>we(l)},h(l.label),11,bt)),64))]),t("div",gt,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),type:"text",placeholder:G.value.placeholder,class:"search-input",onKeyup:se(de,["enter"])},null,40,mt),[[$,d.value]]),d.value?(s(),o("button",{key:0,class:"clear-btn",onClick:_e,"aria-label":"清空",title:"clear"},e[22]||(e[22]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):v("",!0),t("button",{onClick:de,class:"search-btn",title:"search"},e[23]||(e[23]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])]),k.value.length?(s(),o("div",ft,[(s(!0),o(P,null,D(k.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank"},[t("img",{src:l.img,alt:"广告",loading:"lazy"},null,8,yt)],8,kt))),128))])):v("",!0),M.value.length?(s(),o("div",wt,[(s(!0),o(P,null,D(M.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank"},[t("img",{src:l.img,alt:"广告",loading:"lazy"},null,8,Ct)],8,_t))),128))])):v("",!0),A(He(c),{cards:Ce.value,editMode:q.value,onCardsReordered:Ae,onEditCard:De,onDeleteCard:Pe},null,8,["cards","editMode"]),t("div",{class:"fab-container",onClick:e[1]||(e[1]=J(()=>{},["stop"]))},[A(K,{name:"fab-item"},{default:H(()=>[b(t("button",{onClick:Be,class:"change-bg-btn",title:"切换背景",disabled:j.value},[j.value?(s(),o("svg",St,e[25]||(e[25]=[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"},null,-1)]))):(s(),o("svg",xt,e[24]||(e[24]=[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),t("path",{d:"M21 15l-5-5L5 21"},null,-1)])))],8,Mt),[[ee,U.value]])]),_:1}),A(K,{name:"fab-item"},{default:H(()=>[y.value?b((s(),o("button",{key:0,onClick:Se,class:"batch-add-btn",title:"批量添加网站"},e[26]||(e[26]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)]),512)),[[ee,U.value]]):v("",!0)]),_:1}),A(K,{name:"fab-item"},{default:H(()=>[q.value?b((s(),o("button",{key:0,onClick:Ve,class:"exit-edit-btn",title:"退出编辑模式"},e[27]||(e[27]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),512)),[[ee,U.value]]):v("",!0)]),_:1}),A(K,{name:"fab-item"},{default:H(()=>[q.value?v("",!0):b((s(),o("button",{key:0,onClick:Ue,class:"edit-mode-btn",title:"编辑模式"},e[28]||(e[28]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),512)),[[ee,U.value]])]),_:1}),t("button",{onClick:ye,class:"fab-toggle-btn",title:"更多功能"},[A(K,{name:"fab-icon",mode:"out-in"},{default:H(()=>[U.value?(s(),o("svg",$t,e[30]||(e[30]=[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),t("line",{x1:"6",y1:"6",x2:"18",y2:"12"},null,-1)]))):(s(),o("svg",It,e[29]||(e[29]=[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))]),_:1})])]),le.value?(s(),o("div",{key:2,class:"modal-overlay",onClick:W},[t("div",{class:"modal-content batch-modal",onClick:e[7]||(e[7]=J(()=>{},["stop"]))},[t("div",Et,[t("h3",null,h(x.value===1?"验证密码":x.value===2?"输入网址":"预览并选择"),1),t("button",{onClick:W,class:"close-btn"},e[31]||(e[31]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Lt,[x.value===1?(s(),o("div",Bt,[e[33]||(e[33]=t("p",{class:"batch-tip"},"请输入管理员密码以继续：",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>L.value=l),type:"password",placeholder:"请输入管理员密码",class:"batch-input",onKeyup:se(ue,["enter"])},null,544),[[$,L.value]]),t("div",Ut,[t("label",null,[b(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=l=>R.value=l)},null,512),[[be,R.value]]),e[32]||(e[32]=t("span",null,"记住密码（2小时）",-1))])]),p.value?(s(),o("p",Vt,h(p.value),1)):v("",!0),t("div",At,[t("button",{onClick:W,class:"btn btn-cancel"},"取消"),t("button",{onClick:ue,class:"btn btn-primary",disabled:C.value},h(C.value?"验证中...":"确认"),9,Pt)])])):v("",!0),x.value===2?(s(),o("div",Dt,[e[34]||(e[34]=t("p",{class:"batch-tip"},"请输入需要添加的网址，每行一个：",-1)),b(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>F.value=l),placeholder:`例如：
https://github.com
https://google.com
https://stackoverflow.com`,class:"batch-textarea",rows:"10"},null,512),[[$,F.value]]),p.value?(s(),o("p",Rt,h(p.value),1)):v("",!0),t("div",zt,[t("button",{onClick:$e,class:"btn btn-cancel"},"上一步"),t("button",{onClick:Ee,class:"btn btn-primary",disabled:C.value||!F.value.trim()},h(C.value?"解析中...":"下一步"),9,Nt)])])):v("",!0),x.value===3?(s(),o("div",Ft,[e[38]||(e[38]=t("p",{class:"batch-tip"},"请选择需要添加的网站：",-1)),t("div",Tt,[(s(!0),o(P,null,D(T.value,(l,S)=>(s(),o("div",{key:S,class:"batch-preview-item"},[b(t("input",{type:"checkbox","onUpdate:modelValue":I=>l.selected=I,id:`card-${S}`},null,8,qt),[[be,l.selected]]),t("div",Ot,[t("img",{src:l.logo,alt:l.title,class:"batch-card-logo",onError:e[5]||(e[5]=I=>I.target.src="/default-favicon.png")},null,40,jt),t("div",Gt,[t("div",Ht,[e[35]||(e[35]=t("label",null,"标题：",-1)),b(t("input",{type:"text","onUpdate:modelValue":I=>l.title=I,class:"batch-edit-input"},null,8,Kt),[[$,l.title]])]),t("div",Jt,[e[36]||(e[36]=t("label",null,"Logo：",-1)),b(t("input",{type:"text","onUpdate:modelValue":I=>l.logo=I,class:"batch-edit-input"},null,8,Qt),[[$,l.logo]])]),t("div",Wt,[e[37]||(e[37]=t("label",null,"描述：",-1)),b(t("textarea",{"onUpdate:modelValue":I=>l.description=I,class:"batch-edit-textarea",rows:"2"},null,8,Xt),[[$,l.description]])]),t("p",Yt,h(l.url),1),l.success?v("",!0):(s(),o("p",Zt,"⚠️ "+h(l.error),1))])])]))),128))]),p.value?(s(),o("p",el,h(p.value),1)):v("",!0),t("div",tl,[t("button",{onClick:e[6]||(e[6]=l=>x.value=2),class:"btn btn-cancel"},"上一步"),t("button",{onClick:Le,class:"btn btn-primary",disabled:C.value||ie.value===0},h(C.value?"添加中...":`添加 (${ie.value})`),9,ll)])])):v("",!0)])])])):v("",!0),t("footer",al,[t("div",ol,[t("button",{onClick:e[8]||(e[8]=l=>V.value=!0),class:"friend-link-btn"},e[39]||(e[39]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),ge(" 友情链接 ")])),e[40]||(e[40]=t("p",{class:"copyright"},[ge("Copyright © 2025 Nav-Item | "),t("a",{href:"https://github.com/zczy-k/nav-item",target:"_blank",class:"footer-link"},"Powered by zczy-k")],-1))])]),z.value?(s(),o("div",{key:3,class:"modal-overlay",onClick:e[13]||(e[13]=l=>z.value=!1)},[t("div",{class:"modal-content",onClick:e[12]||(e[12]=J(()=>{},["stop"]))},[t("div",sl,[e[42]||(e[42]=t("h3",null,"进入编辑模式",-1)),t("button",{onClick:e[9]||(e[9]=l=>z.value=!1),class:"close-btn"},e[41]||(e[41]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",nl,[e[43]||(e[43]=t("p",{style:{"margin-bottom":"15px"}},"请输入管理员密码以继续：",-1)),b(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>O.value=l),type:"password",placeholder:"请输入管理员密码",class:"batch-input",onKeyup:se(ce,["enter"]),style:{width:"100%"}},null,544),[[$,O.value]]),w.value?(s(),o("p",rl,h(w.value),1)):v("",!0),t("div",il,[t("button",{onClick:e[11]||(e[11]=l=>z.value=!1),class:"btn btn-cancel"},"取消"),t("button",{onClick:ce,class:"btn btn-primary",disabled:B.value},h(B.value?"验证中...":"确认"),9,dl)])])])])):v("",!0),V.value?(s(),o("div",{key:4,class:"modal-overlay",onClick:e[16]||(e[16]=l=>V.value=!1)},[t("div",{class:"modal-content",onClick:e[15]||(e[15]=J(()=>{},["stop"]))},[t("div",ul,[e[45]||(e[45]=t("h3",null,"友情链接",-1)),t("button",{onClick:e[14]||(e[14]=l=>V.value=!1),class:"close-btn"},e[44]||(e[44]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",cl,[t("div",vl,[(s(!0),o(P,null,D(ne.value,l=>(s(),o("a",{key:l.id,href:l.url,target:"_blank",class:"friend-link-card"},[t("div",pl,[l.logo?(s(),o("img",{key:0,src:l.logo,alt:l.title,loading:"lazy",onError:xe},null,40,bl)):(s(),o("div",gl,h(l.title.charAt(0)),1))]),t("div",ml,[t("h4",null,h(l.title),1)])],8,hl))),128))])])])])):v("",!0),ae.value?(s(),o("div",{key:5,class:"modal-overlay",onClick:X},[t("div",{class:"modal-content",onClick:e[21]||(e[21]=J(()=>{},["stop"]))},[t("div",{class:"modal-header"},[e[47]||(e[47]=t("h3",null,"编辑卡片",-1)),t("button",{onClick:X,class:"close-btn"},e[46]||(e[46]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",fl,[t("div",kl,[t("div",yl,[e[48]||(e[48]=t("label",null,"标题",-1)),b(t("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>f.value.title=l),type:"text",placeholder:"请输入标题",class:"batch-input"},null,512),[[$,f.value.title]])]),t("div",wl,[e[49]||(e[49]=t("label",null,"网址",-1)),b(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>f.value.url=l),type:"url",placeholder:"请输入网址",class:"batch-input"},null,512),[[$,f.value.url]])]),t("div",_l,[e[50]||(e[50]=t("label",null,"Logo 链接",-1)),b(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>f.value.logo_url=l),type:"url",placeholder:"请输入 Logo 图片链接",class:"batch-input"},null,512),[[$,f.value.logo_url]])]),t("div",Cl,[e[51]||(e[51]=t("label",null,"描述",-1)),b(t("textarea",{"onUpdate:modelValue":e[20]||(e[20]=l=>f.value.desc=l),placeholder:"请输入描述",class:"batch-textarea",rows:"4"},null,512),[[$,f.value.desc]])]),w.value?(s(),o("p",Ml,h(w.value),1)):v("",!0),t("div",xl,[t("button",{onClick:X,class:"btn btn-cancel"},"取消"),t("button",{onClick:Re,class:"btn btn-primary",disabled:B.value},h(B.value?"保存中...":"保存"),9,Sl)])])])])])):v("",!0)])}}},Ul=ke(Il,[["__scopeId","data-v-ac2010a6"]]);export{Ul as default};
